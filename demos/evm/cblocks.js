Blockly.Blocks['stop_math'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("STOP");
      this.setPreviousStatement(true, null);
      this.setColour(230);
   this.setTooltip("Halts execution");
   this.setHelpUrl("0x00 STOP 0 0 Halts execution.");
    }
  };
  
  Blockly.Blocks['dup1_duplication'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("DUP1");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(230);
   this.setTooltip("Duplicate 1st stack item.");
   this.setHelpUrl("0x80 DUP1 1 2 Duplicate 1st stack item. µ 0 s [0] ≡ µs [0]");
    }
  };
  
  Blockly.Blocks['dup2_duplication'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("DUP2");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(230);
   this.setTooltip("Duplicate 2nd stack item.");
   this.setHelpUrl("0x81 DUP2 2 3 Duplicate 2nd stack item. µ 0 s [0] ≡ µs [1]");
    }
  };
  
  Blockly.Blocks['dup3_duplication'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("DUP3");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(230);
   this.setTooltip("Duplicate 3rd stack item.");
   this.setHelpUrl("0x81 DUP2 2 3 Duplicate 3rd stack item. µ 0 s [0] ≡ µs [2]");
    }
  };
  
  Blockly.Blocks['dup4_duplication'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("DUP4");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(230);
   this.setTooltip("Duplicate 4th stack item.");
   this.setHelpUrl("0x81 DUP2 2 3 Duplicate 4th stack item. µ 0 s [0] ≡ µs [3]");
    }
  };
  
  Blockly.Blocks['dup5_duplication'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("DUP5");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(230);
   this.setTooltip("Duplicate 5th stack item.");
   this.setHelpUrl("0x81 DUP2 2 3 Duplicate 5th stack item. µ 0 s [0] ≡ µs [4]");
    }
  };
  
  Blockly.Blocks['dup6_duplication'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("DUP6");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(230);
   this.setTooltip("Duplicate 6th stack item.");
   this.setHelpUrl("0x81 DUP2 2 3 Duplicate 6th stack item. µ 0 s [0] ≡ µs [5]");
    }
  };
  
  Blockly.Blocks['dup7_duplication'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("DUP7");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(230);
   this.setTooltip("Duplicate 7th stack item.");
   this.setHelpUrl("0x81 DUP2 2 3 Duplicate 7th stack item. µ 0 s [0] ≡ µs [6]");
    }
  };
  
  Blockly.Blocks['dup8_duplication'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("DUP8");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(230);
   this.setTooltip("Duplicate 8th stack item.");
   this.setHelpUrl("0x81 DUP2 2 3 Duplicate 8th stack item. µ 0 s [0] ≡ µs [7]");
    }
  };
  
  Blockly.Blocks['dup9_duplication'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("DUP9");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(230);
   this.setTooltip("Duplicate 9th stack item.");
   this.setHelpUrl("0x81 DUP2 2 3 Duplicate 9th stack item. µ 0 s [0] ≡ µs [8]");
    }
  };
  
  Blockly.Blocks['dup10_duplication'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("DUP10");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(230);
   this.setTooltip("Duplicate 10th stack item.");
   this.setHelpUrl("0x81 DUP2 2 3 Duplicate 10th stack item. µ 0 s [0] ≡ µs [9]");
    }
  };
  
  Blockly.Blocks['dup11_duplication'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("DUP11");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(230);
   this.setTooltip("Duplicate 11th stack item.");
   this.setHelpUrl("0x81 DUP2 2 3 Duplicate 11th stack item. µ 0 s [0] ≡ µs [10]");
    }
  };
  
  Blockly.Blocks['dup12_duplication'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("DUP12");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(230);
   this.setTooltip("Duplicate 12th stack item.");
   this.setHelpUrl("0x81 DUP2 2 3 Duplicate 12th stack item. µ 0 s [0] ≡ µs [11]");
    }
  };
  
  Blockly.Blocks['dup13_duplication'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("DUP13");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(230);
   this.setTooltip("Duplicate 13th stack item.");
   this.setHelpUrl("0x81 DUP2 2 3 Duplicate 13th stack item. µ 0 s [0] ≡ µs [12]");
    }
  };
  
  Blockly.Blocks['dup14_duplication'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("DUP14");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(230);
   this.setTooltip("Duplicate 14th stack item.");
   this.setHelpUrl("0x81 DUP2 2 3 Duplicate 14th stack item. µ 0 s [0] ≡ µs [13]");
    }
  };
  
  Blockly.Blocks['dup15_duplication'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("DUP15");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(230);
   this.setTooltip("Duplicate 15th stack item.");
   this.setHelpUrl("0x81 DUP2 2 3 Duplicate 15th stack item. µ 0 s [0] ≡ µs [14]");
    }
  };
  
  Blockly.Blocks['dup16_duplication'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("DUP16");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(230);
   this.setTooltip("Duplicate 16th stack item.");
   this.setHelpUrl("0x8f DUP2 16 17 Duplicate 16th stack item. µ 0 s [0] ≡ µs [15]");
    }
  };
  
  Blockly.Blocks['swapx_swap'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("SWAP")
          .appendField(new Blockly.FieldDropdown([["1","1"], ["2","2"], ["3","3"], ["4","4"], ["5","5"], ["6","6"], ["7","7"], ["8","8"], ["9","9"], ["10","10"], ["11","11"], ["12","12"], ["13","13"], ["14","14"], ["15","15"], ["16","16"]]), "number");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(230);
   this.setTooltip("Exchange 1st and 2nd stack items.");
   this.setHelpUrl("0x90 SWAP1 2 2 Exchange 1st and 2nd stack items. µ 0 s [0] ≡ µs [1] µ 0 s [1] ≡ µs [0]");
    }
  };
  
  Blockly.Blocks['dupx_swap'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("DUP")
          .appendField(new Blockly.FieldDropdown([["1","1"], ["2","2"], ["3","3"], ["4","4"], ["5","5"], ["6","6"], ["7","7"], ["8","8"], ["9","9"], ["10","10"], ["11","11"], ["12","12"], ["13","13"], ["14","14"], ["15","15"], ["16","16"]]), "number");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(230);
   this.setTooltip("Duplicate Xst stack item.");
   this.setHelpUrl("0x80 DUP1 1 2 Duplicate 1st stack item. µ 0 s [0] ≡ µs [0]");
    }
  };
  
  Blockly.Blocks['dupx_duplicate'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("DUP")
          .appendField(new Blockly.FieldDropdown([["1","1"], ["2","2"], ["3","3"], ["4","4"], ["5","5"], ["6","6"], ["7","7"], ["8","8"], ["9","9"], ["10","10"], ["11","11"], ["12","12"], ["13","13"], ["14","14"], ["15","15"], ["16","16"]]), "number");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(230);
   this.setTooltip("Duplicate Xst stack item.");
   this.setHelpUrl("0x80 DUP1 1 2 Duplicate 1st stack item. µ 0 s [0] ≡ µs [0]");
    }
  };
  
  Blockly.Blocks['pushx_stack'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("PUSH")
          .appendField(new Blockly.FieldDropdown([["1","1"], ["2","2"], ["3","3"], ["4","4"], ["5","5"], ["6","6"], ["7","7"], ["8","8"], ["9","9"], ["10","10"], ["11","11"], ["12","12"], ["13","13"], ["14","14"], ["15","15"], ["16","16"], ["17","17"], ["18","18"], ["19","19"], ["20","20"], ["21","21"], ["22","22"], ["23","23"], ["24","24"], ["25","25"], ["26","26"], ["27","27"], ["28","28"], ["29","29"], ["30","30"], ["31","31"], ["32","32"]]), "number");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(230);
   this.setTooltip("Place X bytes item on stack.");
   this.setHelpUrl("0x60 PUSH1 0 1 Place 1 byte item on stack. µ 0 s [0] ≡ c(µpc + 1) where c(x) ≡ ( Ib[x] if x < kIbk 0 otherwise The bytes are read in line from the program code’s bytes array. The function c ensures the bytes default to zero if they extend past the limits. The byte is right-aligned (takes the lowest significant place in big endian).");
    }
  };
  
  Blockly.Blocks['logx_log'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("LOG")
          .appendField(new Blockly.FieldDropdown([["1","1"], ["2","2"], ["3","3"], ["4","4"]]), "number");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(230);
   this.setTooltip("Append log record with X topics.");
   this.setHelpUrl("0xa1 LOG1 3 0 Append log record with X topics. t ≡ (µs [2],..,, µs [X+1])");
    }
  };
  
  Blockly.Blocks['add_math'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("ADD");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(230);
   this.setTooltip("Addition operation.");
   this.setHelpUrl("0x01 ADD 2 1 Addition operation. µ 0 s [0] ≡ µs [0] + µs [1]");
    }
  };
  
  Blockly.Blocks['mul_math'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("MUL");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(230);
   this.setTooltip("Multiplication operation.");
   this.setHelpUrl("0x02 MUL 2 1 Multiplication operation. µ 0 s [0] ≡ µs [0] × µs [1]");
    }
  };
  
  Blockly.Blocks['sub_math'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("SUB");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(230);
   this.setTooltip("Subtraction operation.");
   this.setHelpUrl("0x03 SUB 2 1 Subtraction operation. µ 0 s [0] ≡ µs [0] − µs [1]");
    }
  };
  
  Blockly.Blocks['div_math'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("DIV");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(230);
   this.setTooltip("Integer division operation.");
   this.setHelpUrl("0x04 DIV 2 1 Integer division operation. µ 0 s [0] ≡ ( 0 if µs [1] = 0 bµs [0] ÷ µs [1]c otherwise");
    }
  };
  
  Blockly.Blocks['sdiv_math'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("SDIV");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(230);
   this.setTooltip("Signed integer division operation (truncated).");
   this.setHelpUrl("0x05 SDIV 2 1 Signed integer division operation (truncated). µ 0 s [0] ≡    0 if µs [1] = 0 −2 255 if µs [0] = −2 255 ∧ µs [1] = −1 sgn(µs [0] ÷ µs [1])b|µs [0] ÷ µs [1]|c otherwise Where all values are treated as two’s complement sig");
    }
  };
  
  Blockly.Blocks['mod_math'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("MOD");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(230);
   this.setTooltip("Modulo remainder operation.");
   this.setHelpUrl("0x06 MOD 2 1 Modulo remainder operation. µ 0 s [0] ≡ ( 0 if µs [1] = 0 µs [0] mod µs [1] otherwise");
    }
  };
  
  Blockly.Blocks['smod_math'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("SMOD");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(230);
   this.setTooltip("Signed modulo remainder operation.");
   this.setHelpUrl("0x07 SMOD 2 1 Signed modulo remainder operation. µ 0 s [0] ≡ ( 0 if µs [1] = 0 sgn(µs [0])|µs [0]| mod |µs [1]| otherwise Where all values are treated as two’s complement signed 256-bit integers.");
    }
  };
  
  Blockly.Blocks['addmod_math'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("ADDMOD");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(230);
   this.setTooltip("Modulo addition operation.");
   this.setHelpUrl("0x08 ADDMOD 3 1 Modulo addition operation. µ 0 s [0] ≡ ( 0 if µs [2] = 0 (µs [0] + µs [1]) mod µs [2] otherwise All intermediate calculations of this operation are not subject to the 2^256 modulo.");
    }
  };
  
  Blockly.Blocks['mulmod_math'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("MULMOD");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(230);
   this.setTooltip("Modulo multiplication operation.");
   this.setHelpUrl("0x09 MULMOD 3 1 Modulo multiplication operation. µ 0 s [0] ≡ ( 0 if µs [2] = 0 (µs [0] × µs [1]) mod µs [2] otherwise All intermediate calculations of this operation are not subject to the 2^256 modulo.");
    }
  };
  
  Blockly.Blocks['exp_math'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("EXP");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(230);
   this.setTooltip("Exponential operation.");
   this.setHelpUrl("0x0a EXP 2 1 Exponential operation. µ 0 s [0] ≡ µs [0]µs [1]");
    }
  };
  
  Blockly.Blocks['signextend_math'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("SIGNEXTEND");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(230);
   this.setTooltip("Extend length of two’s complement signed integer.");
   this.setHelpUrl("0x0b SIGNEXTEND 2 1 Extend length of two’s complement signed integer. ∀i ∈ [0..255] : µ 0 s [0]i ≡ ( µs [1]t if i 6 t where t = 256 − 8(µs [0] + 1) µs [1]i otherwise µs [x]i gives the ith bit (counting from zero) of µs [x]");
    }
  };
  
  Blockly.Blocks['lt_logic'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("LT");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(230);
   this.setTooltip(" Less-than comparision.");
   this.setHelpUrl("0x10 LT 2 1 Less-than comparision. µ 0 s [0] ≡ ( 1 if µs [0] < µs [1] 0 otherwise");
    }
  };
  
  Blockly.Blocks['gt_logic'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("GT");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(230);
   this.setTooltip("Greater-than comparision.");
   this.setHelpUrl("0x11 GT 2 1 Greater-than comparision. µ 0 s [0] ≡ ( 1 if µs [0] > µs [1] 0 otherwise");
    }
  };
  
  Blockly.Blocks['slt_logic'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("SLT");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(230);
   this.setTooltip("Signed less-than comparision.");
   this.setHelpUrl("0x12 SLT 2 1 Signed less-than comparision. µ 0 s [0] ≡ ( 1 if µs [0] < µs [1] 0 otherwise Where all values are treated as two’s complement signed 256-bit integers.");
    }
  };
  
  Blockly.Blocks['sgt_logic'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("SGT");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(230);
   this.setTooltip("Signed greater-than comparision.");
   this.setHelpUrl("0x13 SGT 2 1 Signed greater-than comparision. µ 0 s [0] ≡ ( 1 if µs [0] > µs [1] 0 otherwise Where all values are treated as two’s complement signed 256-bit integers.");
    }
  };
  
  Blockly.Blocks['eq_logic'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("EQ");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(230);
   this.setTooltip("Equality comparision.");
   this.setHelpUrl("0x14 EQ 2 1 Equality comparision. µ 0 s [0] ≡ ( 1 if µs [0] = µs [1] 0 otherwise");
    }
  };
  
  Blockly.Blocks['iszero_logic'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("ISZERO");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(230);
   this.setTooltip("Simple not operator.");
   this.setHelpUrl("0x15 ISZERO 1 1 Simple not operator. µ 0 s [0] ≡ ( 1 if µs [0] = 0 0 otherwise");
    }
  };
  
  Blockly.Blocks['and_logic'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("AND");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(230);
   this.setTooltip("Bitwise AND operation.");
   this.setHelpUrl("0x16 AND 2 1 Bitwise AND operation. ∀i ∈ [0..255] : µ 0 s [0]i ≡ µs [0]i ∧ µs [1]i");
    }
  };
  
  Blockly.Blocks['or_logic'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("OR");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(230);
   this.setTooltip("Bitwise OR operation.");
   this.setHelpUrl("0x17 OR 2 1 Bitwise OR operation. ∀i ∈ [0..255] : µ 0 s [0]i ≡ µs [0]i ∨ µs [1]i");
    }
  };
  
  Blockly.Blocks['xor_logic'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("XOR");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(230);
   this.setTooltip("Bitwise XOR operation.");
   this.setHelpUrl("0x18 XOR 2 1 Bitwise XOR operation. ∀i ∈ [0..255] : µ 0 s [0]i ≡ µs [0]i ⊕ µs [1]i");
    }
  };
  
  Blockly.Blocks['not_logic'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("NOT");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(230);
   this.setTooltip("Bitwise NOT operation.");
   this.setHelpUrl("0x19 NOT 1 1 Bitwise NOT operation. ∀i ∈ [0..255] : µ 0 s [0]i ≡ ( 1 if µs [0]i = 0 0 otherwise");
    }
  };
  
  Blockly.Blocks['byte_logic'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("BYTE");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(230);
   this.setTooltip("Retrieve single byte from word.");
   this.setHelpUrl("0x1a BYTE 2 1 Retrieve single byte from word. ∀i ∈ [0..255] : µ 0 s [0]i ≡ ( µs [1](i+8µs [0]) if i < 8 ∧ µs [0] < 32 0 otherwise For Nth byte, we count from the left (i.e. N=0 would be the most significant in big endian).");
    }
  };
  
  Blockly.Blocks['sha3_logic'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("SHA3");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(230);
   this.setTooltip("Compute Keccak-256 hash.");
   this.setHelpUrl("0x20 SHA3 2 1 Compute Keccak-256 hash. µ 0 s [0] ≡ Keccak(µm[µs [0] . . .(µs [0] + µs [1] − 1)]) µ 0 i ≡ M(µi , µs [0], µs [1])");
    }
  };
  
  Blockly.Blocks['address_environment'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("ADDRESS");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(230);
   this.setTooltip("Get address of currently executing account.");
   this.setHelpUrl("0x30 ADDRESS 0 1 Get address of currently executing account. µ 0 s [0] ≡ Ia");
    }
  };
  
  Blockly.Blocks['balance_environment'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("BALANCE");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(230);
   this.setTooltip("Get balance of the given account.");
   this.setHelpUrl("0x31 BALANCE 1 1 Get balance of the given account. µ 0 s [0] ≡ ( σ[µs [0]]b if σ[µs [0] mod 2160] 6= ∅ 0 otherwise");
    }
  };
  
  Blockly.Blocks['origin_environment'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("ORIGIN");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(230);
   this.setTooltip("Get execution origination address.");
   this.setHelpUrl("0x32 ORIGIN 0 1 Get execution origination address. µ 0 s [0] ≡ Io This is the sender of original transaction; it is never an account with non-empty associated code.");
    }
  };
  
  Blockly.Blocks['caller_environment'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("CALLER");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(230);
   this.setTooltip("Get caller address.");
   this.setHelpUrl("0x33 CALLER 0 1 Get caller address. µ 0 s [0] ≡ Is This is the address of the account that is directly responsible for this execution.");
    }
  };
  
  Blockly.Blocks['callvalue_environment'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("CALLVALUE");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(230);
   this.setTooltip("Get deposited value by the instruction/transaction responsible for this execution.");
   this.setHelpUrl("0x34 CALLVALUE 0 1 Get deposited value by the instruction/transaction responsible for this execution. µ 0 s [0] ≡ Iv");
    }
  };
  
  Blockly.Blocks['calldataload_environment'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("CALLDATALOAD");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(230);
   this.setTooltip("Get input data of current environment.");
   this.setHelpUrl("0x35 CALLDATALOAD 1 1 Get input data of current environment. µ 0 s [0] ≡ Id[µs [0] . . .(µs [0] + 31)] with Id[x] = 0 if x > kIdk This pertains to the input data passed with the message call instruction or transaction.");
    }
  };
  
  Blockly.Blocks['calldatasize_environment'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("CALLDATASIZE");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(230);
   this.setTooltip("Get size of input data in current environment.");
   this.setHelpUrl("0x36 CALLDATASIZE 0 1 Get size of input data in current environment. µ 0 s [0] ≡ kIdk This pertains to the input data passed with the message call instruction or transaction.");
    }
  };
  
  Blockly.Blocks['calldatacopy_environment'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("CALLDATACOPY");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(230);
   this.setTooltip("Copy input data in current environment to memory.");
   this.setHelpUrl("0x37 CALLDATACOPY 3 0 Copy input data in current environment to memory. ∀i∈{0...µs [2]−1}µ 0 m[µs [0] + i] ≡ ( Id[µs [1] + i] if µs [1] + i < kIdk 0 otherwise µ 0 i ≡ M(µi , µs [0], µs [2]) This pertains to the input data passed with the message call instruction or transaction.");
    }
  };
  
  Blockly.Blocks['codesize_environment'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("CODESIZE");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(230);
   this.setTooltip("Get size of code running in current environment.");
   this.setHelpUrl("0x38 CODESIZE 0 1 Get size of code running in current environment. µ 0 s [0] ≡ kIbk");
    }
  };
  
  Blockly.Blocks['codecopy_environment'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("CODECOPY");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(230);
   this.setTooltip("Copy code running in current environment to memory.");
   this.setHelpUrl("0x39 CODECOPY 3 0 Copy code running in current environment to memory. ∀i∈{0...µs [2]−1}µ 0 m[µs [0] + i] ≡ ( Ib[µs [1] + i] if µs [1] + i < kIbk STOP otherwise µ 0 i ≡ M(µi , µs [0], µs [1])");
    }
  };
  
  Blockly.Blocks['gasprice_environment'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("GASPRICE");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(230);
   this.setTooltip("Get price of gas in current environment.");
   this.setHelpUrl("0x3a GASPRICE 0 1 Get price of gas in current environment. µ 0 s [0] ≡ Ip This is gas price specified by the originating transaction.");
    }
  };
  
  Blockly.Blocks['extcodesize_environment'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("EXTCODESIZE");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(230);
   this.setTooltip("Get size of an account’s code.");
   this.setHelpUrl("0x3b EXTCODESIZE 1 1 Get size of an account’s code. µ 0 s [0] ≡ kσ[µs [0] mod 2160]ck");
    }
  };
  
  Blockly.Blocks['extcodecopy_environment'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("EXTCODECOPY");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(230);
   this.setTooltip("Copy an account’s code to memory.");
   this.setHelpUrl("0x3c EXTCODECOPY 4 0 Copy an account’s code to memory. ∀i∈{0...µs [3]−1}µ 0 m[µs [1] + i] ≡ ( c[µs [2] + i] if µs [2] + i < kck STOP otherwise where c ≡ σ[µs [0] mod 2160]c µ 0 i ≡ M(µi , µs [1], µs [3])");
    }
  };
  
  Blockly.Blocks['blockhash_block'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("BLOCKHASH");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(230);
   this.setTooltip("Get the hash of one of the 256 most recent complete blocks.");
   this.setHelpUrl("0x40 BLOCKHASH 1 1 Get the hash of one of the 256 most recent complete blocks. µ 0 s [0] ≡ P(IHp , µs [0], 0) where P is the hash of a block of a particular number, up to a maximum age. 0 is left on the stack if the looked for block number is greater than the current block number or more than 256 blocks behind the current block. P(h, n, a) ≡    0 if n > Hi ∨ a = 256 ∨ h = 0 h if n = Hi P(Hp, n, a + 1) otherwise and we assert the header H can be determined as its hash is the parent hash in the block following it.");
    }
  };
  
  Blockly.Blocks['coinbase_block'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("CIONBASE");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(230);
   this.setTooltip("Get the block’s beneficiary address.");
   this.setHelpUrl("0x41 COINBASE 0 1 Get the block’s beneficiary address. µ 0 s [0] ≡ IHc");
    }
  };
  
  Blockly.Blocks['timestamp_block'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("TIMESTAMP");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(230);
   this.setTooltip("Get the block’s timestamp.");
   this.setHelpUrl("0x42 TIMESTAMP 0 1 Get the block’s timestamp. µ 0 s [0] ≡ IHs");
    }
  };
  
  Blockly.Blocks['number_block'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("NUMBER");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(230);
   this.setTooltip("Get the block’s number.");
   this.setHelpUrl("0x43 NUMBER 0 1 Get the block’s number. µ 0 s [0] ≡ IHi");
    }
  };
  
  Blockly.Blocks['difficulty_block'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("DIFFICULTY");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(230);
   this.setTooltip("Get the block’s difficulty.");
   this.setHelpUrl("0x44 DIFFICULTY 0 1 Get the block’s difficulty. µ 0 s [0] ≡ IHd");
    }
  };
  
  Blockly.Blocks['gaslimit_block'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("GASLIMIT");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(230);
   this.setTooltip("Get the block’s gas limit.");
   this.setHelpUrl("0x45 GASLIMIT 0 1 Get the block’s gas limit. µ 0 s [0] ≡ IHl");
    }
  };
  
  Blockly.Blocks['pop_stack'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("POP");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(230);
   this.setTooltip("Remove item from stack.");
   this.setHelpUrl("0x50 POP 1 0 Remove item from stack.");
    }
  };
  
  Blockly.Blocks['mload_stack'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("MLOAD");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(230);
   this.setTooltip("Load word from memory.");
   this.setHelpUrl("0x51 MLOAD 1 1 Load word from memory. µ 0 s [0] ≡ µm[µs [0] . . .(µs [0] + 31)] µ 0 i ≡ max(µi , d(µs [0] + 32) ÷ 32e) The addition in the calculation of µ 0 i is not subject to the 2256 modulo.");
    }
  };

  Blockly.Blocks['mloadx_stack'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("MLOAD(0x")
          .appendField(new Blockly.FieldTextInput("40"), "NAME")
          .appendField(")");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(230);
   this.setTooltip("Load word from memory.");
   this.setHelpUrl("0x51 MLOAD 1 1 Load word from memory. µ 0 s [0] ≡ µm[µs [0] . . .(µs [0] + 31)] µ 0 i ≡ max(µi , d(µs [0] + 32) ÷ 32e) The addition in the calculation of µ 0 i is not subject to the 2256 modulo.");
    }
  };
  
  Blockly.Blocks['mstore_stack'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("MSTORE");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(230);
   this.setTooltip("Save word to memory.");
   this.setHelpUrl("0x52 MSTORE 2 0 Save word to memory. µ 0 m[µs [0] . . .(µs [0] + 31)] ≡ µs [1] µ 0 i ≡ max(µi , d(µs [0] + 32) ÷ 32e) The addition in the calculation of µ 0 i is not subject to the 2256 modulo.");
    }
  };
  
  Blockly.Blocks['mstorex_stack'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("MSTORE(0x")
          .appendField(new Blockly.FieldTextInput("40"), "addr")
          .appendField(", 0x")
          .appendField(new Blockly.FieldTextInput("0"), "val")
          .appendField(")");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(230);
   this.setTooltip("Save word to memory.");
   this.setHelpUrl("0x52 MSTORE 2 0 Save word to memory. µ 0 m[µs [0] . . .(µs [0] + 31)] ≡ µs [1] µ 0 i ≡ max(µi , d(µs [0] + 32) ÷ 32e) The addition in the calculation of µ 0 i is not subject to the 2256 modulo.");
    }
  };
  
  Blockly.Blocks['mstore8_stack'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("MSTORE8");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(230);
   this.setTooltip("Save byte to memory.");
   this.setHelpUrl("0x53 MSTORE8 2 0 Save byte to memory. µ 0 m[µs [0]] ≡ (µs [1] mod 256) µ 0 i ≡ max(µi , d(µs [0] + 1) ÷ 32e) The addition in the calculation of µ 0 i is not subject to the 2256 modulo.");
    }
  };
  
  Blockly.Blocks['sload_stack'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("SLOAD");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(230);
   this.setTooltip("Load word from storage.");
   this.setHelpUrl("0x54 SLOAD 1 1 Load word from storage. µ 0 s [0] ≡ σ[Ia]s[µs [0]]");
    }
  };
  
  Blockly.Blocks['sstore_stack'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("SSTORE");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(230);
   this.setTooltip("Save word to storage.");
   this.setHelpUrl("0x55 SSTORE 2 0 Save word to storage. σ 0 [Ia]s[µs [0]] ≡ µs [1] CSSTORE(σ, µ) ≡ ( Gsset if µs [1] 6= 0 ∧ σ[Ia]s[µs [0]] = 0 Gsreset otherwise A 0 r ≡ Ar + ( Rsclear if µs [1] = 0 ∧ σ[Ia]s[µs [0]] 6= 0 0 otherwise");
    }
  };
  
  Blockly.Blocks['jump_flow'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("JUMP");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(230);
   this.setTooltip("Alter the program counter.");
   this.setHelpUrl("0x56 JUMP 1 0 Alter the program counter. JJUMP(µ) ≡ µs [0] This has the effect of writing said value to µpc. See section 9.");
    }
  };
  
  Blockly.Blocks['jumpi_flow'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("JUMPI");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(230);
   this.setTooltip("Conditionally alter the program counter.");
   this.setHelpUrl("0x57 JUMPI 2 0 Conditionally alter the program counter. JJUMPI(µ) ≡ ( µs [0] if µs [1] 6= 0 µpc + 1 otherwise This has the effect of writing said value to µpc. See section 9.");
    }
  };
  
  Blockly.Blocks['pc_flow'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("PC");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(230);
   this.setTooltip("Get the value of the program counter prior to the increment corresponding to this instruction.");
   this.setHelpUrl("0x58 PC 0 1 Get the value of the program counter prior to the increment corresponding to this instruction. µ 0 s [0] ≡ µpc");
    }
  };
  
  Blockly.Blocks['msize_flow'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("MSIZE");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(230);
   this.setTooltip("Get the size of active memory in bytes.");
   this.setHelpUrl("0x59 MSIZE 0 1 Get the size of active memory in bytes. µ 0 s [0] ≡ 32µi");
    }
  };
  
  Blockly.Blocks['gas_flow'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("GAS");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(230);
   this.setTooltip("Get the amount of available gas, including the corresponding reduction for the cost of this instruction.");
   this.setHelpUrl("0x5a GAS 0 1 Get the amount of available gas, including the corresponding reduction for the cost of this instruction. µ 0 s [0] ≡ µg");
    }
  };
  
  Blockly.Blocks['jumpdest_flow'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("JUMPDEST");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(230);
   this.setTooltip("Mark a valid destination for jumps. This operation has no effect on machine state during execution.");
   this.setHelpUrl("0x5b JUMPDEST 0 0 Mark a valid destination for jumps. This operation has no effect on machine state during execution.");
    }
  };

  Blockly.Blocks['create_system'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("CREATE");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(230);
   this.setTooltip("Create a new account with associated code.");
   this.setHelpUrl("0xf0 CREATE 3 1 Create a new account with associated code. i ≡ µm[µs [1] . . .(µs [1] + µs [2] − 1)] (σ 0 , µ 0 g , A+) ≡ ( Λ(σ ∗ , Ia, Io, L(µg ), Ip, µs [0], i, Ie + 1) if µs [0] 6 σ[Ia]b ∧ Ie < 1024  σ, µg , ∅ \u0001 otherwise σ ∗ ≡ σ except σ ∗ [Ia]n = σ[Ia]n + 1 A 0 ≡ A d A + which implies: A 0 s ≡ As ∪ A + s ∧ A 0 l ≡ Al · A + l ∧ A 0 r ≡ Ar + A + r µ 0 s [0] ≡ x where x = 0 if the code execution for this operation failed due to an exceptional halting Z(σ ∗ , µ, I) = > or Ie = 1024 (the maximum call depth limit is reached) or µs [0] > σ[Ia]b (balance of the caller is too low to fulfil the value transfer); and otherwise x = A(Ia, σ[Ia]n), the address of the newly created account, otherwise. µ 0 i ≡ M(µi , µs [1], µs [2]) Thus the operand order is: value, input offset, input size.");
    }
  };

  Blockly.Blocks['call_system'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("CALL");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(290);
   this.setTooltip("Create a new account with associated code.");
   this.setHelpUrl("0xf1 CALL 7 1 Message-call into an account. i ≡ µm[µs [3] . . .(µs [3] + µs [4] − 1)] (σ 0 , g0 , A+, o) ≡    Θ(σ, Ia, Io, t, t, CCALLGAS(µ), Ip, µs [2], µs [2], i, Ie + 1) if µs [2] 6 σ[Ia]b ∧ Ie < 1024 (σ, g, ∅, o) otherwise n ≡ min({µs [6], |o|}) µ 0 m[µs [5] . . .(µs [5] + n − 1)] = o[0 . . .(n − 1)] µ 0 g ≡ µg + g 0 µ 0 s [0] ≡ x A 0 ≡ A d A + t ≡ µs [1] mod 2160 where x = 0 if the code execution for this operation failed due to an exceptional halting Z(σ, µ, I) = > or if µs [2] > σ[Ia]b (not enough funds) or Ie = 1024 (call depth limit reached); x = 1 otherwise. µ 0 i ≡ M(M(µi , µs [3], µs [4]), µs [5], µs [6]) Thus the operand order is: gas, to, value, in offset, in size, out offset, out size. CCALL(σ, µ) ≡ CGASCAP(σ, µ) + CEXTRA(σ, µ) CCALLGAS(σ, µ) ≡ ( CGASCAP(σ, µ) + Gcallstipend if µs [2] 6= 0 CGASCAP(σ, µ) otherwise CGASCAP(σ, µ) ≡ ( min{L(µg − CEXTRA(σ, µ)), µs [0]} if µg ≥ CEXTRA(σ, µ) µs [0] otherwise CEXTRA(σ, µ) ≡ Gcall + CXFER(µ) + CNEW(σ, µ) CXFER(µ) ≡ ( Gcallvalue if µs [2] 6= 0 0 otherwise CNEW(σ, µ) ≡ ( Gnewaccount if σ[µs [1] mod 2160] = ∅ 0 otherwise");
    }
  };

  Blockly.Blocks['callcode_system'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("CALLCODE");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(290);
   this.setTooltip("Message-call into this account with an alternative account’s code. Exactly equivalent to CALL except...");
   this.setHelpUrl("0xf2 CALLCODE 7 1 Message-call into this account with an alternative account’s code. Exactly equivalent to CALL except: (σ 0 , g0 , A+, o) ≡    Θ(σ ∗ , Ia, Io, Ia, t, CCALLGAS(µ), Ip, µs [2], µs [2], i, Ie + 1) if µs [2] 6 σ[Ia]b ∧ Ie < 1024 (σ, g, ∅, o) otherwise Note the change in the fourth parameter to the call Θ from the 2nd stack value µs [1] (as in CALL) to the present address Ia. This means that the recipient is in fact the same account as at present, simply that the code is overwritten.");
    }
  };

  Blockly.Blocks['return_system'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("RETURN");
      this.setPreviousStatement(true);
      this.setColour(290);
   this.setTooltip("Halt execution returning output data.");
   this.setHelpUrl("0xf3 RETURN 2 0 Halt execution returning output data. HRETURN(µ) ≡ µm[µs [0] . . .(µs [0] + µs [1] − 1)] This has the effect of halting the execution at this point with output defined. See section 9. µ 0 i ≡ M(µi , µs [0], µs [1])");
    }
  };

  Blockly.Blocks['revert_system'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("REVERT");
      this.setPreviousStatement(true);
      this.setColour(290);
   this.setTooltip("Reverts.");
   this.setHelpUrl("NO DOC");
    }
  };

  Blockly.Blocks['delegatecall_system'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("DELEGATECALL");
      this.setPreviousStatement(true, null);
      this.setColour(290);
   this.setTooltip("Message-call into this account with an alternative account’s code, but persisting the current values for sender and value.");
   this.setHelpUrl("0xf4 DELEGATECALL 6 1 Message-call into this account with an alternative account’s code, but persisting the current values for sender and value. Compared with CALL, DELEGATECALL takes one fewer arguments. The omitted argument is µs [2]. As a result, µs [3], µs [4], µs [5] and µs [6] in the definition of CALL should respectively be replaced with µs [2], µs [3], µs [4] and µs [5]. Otherwise exactly equivalent to CALL except: (σ 0 , g0 , A+, o) ≡    Θ(σ ∗ , Is, Io, Ia, t, µs [0], Ip, 0, Iv, i, Ie + 1) if Iv 6 σ[Ia]b ∧ Ie < 1024 (σ, g, ∅, o) otherwise Note the changes (in addition to that of the fourth parameter) to the second and ninth parameters to the call Θ. This means that the recipient is in fact the same account as at present, simply that the code is overwritten and the context is almost entirely identical.");
    }
  };

  Blockly.Blocks['selfdestruct_system'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("SELFDESTRUCT");
      this.setPreviousStatement(true, null);
      this.setColour(290);
   this.setTooltip("Halt execution and register account for later deletion.");
   this.setHelpUrl("0xff SELFDESTRUCT 1 0 Halt execution and register account for later deletion. A 0 s ≡ As ∪ {Ia} σ 0 [µs [0] mod 2160]b ≡ σ[µs [0] mod 2160]b + σ[Ia]b σ 0 [Ia]b ≡ 0 A 0 r ≡ Ar + ( Rsuicide if Ia ∈/ As 0 otherwise CSUICIDE(σ, µ) ≡ Gsuicide + ( Gnewaccount if σ[µs [1] mod 2160] = ∅ 0 otherwise");
    }
  };

  Blockly.Blocks['hexa_types'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("0x")
          .appendField(new Blockly.FieldTextInput("0"), "NAME");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(290);
   this.setTooltip("A hex number");
   this.setHelpUrl("A hex number");
    }
  };

  Blockly.Blocks['sloadx_stack'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("SLOAD(0x")
          .appendField(new Blockly.FieldTextInput("40"), "NAME")
          .appendField(")");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(230);
   this.setTooltip("Load word from storage.");
   this.setHelpUrl("0x54 SLOAD 1 1 Load word from storage. µ 0 s [0] ≡ σ[Ia]s[µs [0]]");
    }
  };

  Blockly.Blocks['invalid_flow'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("INVALID");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(230);
   this.setTooltip("Invalid.");
   this.setHelpUrl("Invalid.");
    }
  };

  Blockly.Blocks['calldataloadx_environment'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("CALLDATALOAD(0x")
          .appendField(new Blockly.FieldTextInput("40"), "NAME")
          .appendField(")");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(230);
   this.setTooltip("Get input data of current environment.");
   this.setHelpUrl("0x35 CALLDATALOAD 1 1 Get input data of current environment. µ 0 s [0] ≡ Id[µs [0] . . .(µs [0] + 31)] with Id[x] = 0 if x > kIdk This pertains to the input data passed with the message call instruction or transaction.");
    }
  };

  Blockly.Blocks['tag_flow'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("tag_")
          .appendField(new Blockly.FieldTextInput("0"), "NAME")
          .appendField(":");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(290);
   this.setTooltip("A tag.");
   this.setHelpUrl("A tag.");
    }
  };

  Blockly.Blocks['hex_types'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("0x")
          .appendField(new Blockly.FieldTextInput("0"), "NAME");
      this.setOutput(true, "String");
      this.setColour(290);
   this.setTooltip("A hex number");
   this.setHelpUrl("A hex number");
    }
  };

  Blockly.Blocks['tag_types'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("tag_")
          .appendField(new Blockly.FieldTextInput("0"), "NAME");
      this.setOutput(true, "String");
      this.setColour(290);
   this.setTooltip("A tag.");
   this.setHelpUrl("A tag.");
    }
  };

  Blockly.Blocks['jumpt_flow'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("JUMP(tag_")
          .appendField(new Blockly.FieldTextInput("0"), "NAME")
          .appendField(")");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(230);
   this.setTooltip("Alter the program counter.");
   this.setHelpUrl("0x56 JUMP 1 0 Alter the program counter. JJUMP(µ) ≡ µs [0] This has the effect of writing said value to µpc. See section 9.");
    }
  };

  Blockly.Blocks['keccak256xx_math'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("KECCAK256(0x")
          .appendField(new Blockly.FieldTextInput("0"), "NAME")
          .appendField(", 0x")
          .appendField(new Blockly.FieldTextInput("40"), "ADDRESS")
          .appendField(")");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(230);
   this.setTooltip("keccak256 hashes the contents of address");
   this.setHelpUrl("keccak256(0x0, 0x40)");
    }
  };

  Blockly.Blocks['keccak256_math'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("KECCAK256");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(230);
   this.setTooltip("keccak256 hashes the contents of address");
   this.setHelpUrl("keccak256 ");
    }
  };
  






Blockly.JavaScript['stop_math'] = function(block) {
    // TODO: Assemble JavaScript into code variable.
    var code = 'stop\n';
    return code;
  };
  
  Blockly.JavaScript['dup1_duplication'] = function(block) {
    // TODO: Assemble JavaScript into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.JavaScript['dup2_duplication'] = function(block) {
    // TODO: Assemble JavaScript into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.JavaScript['dup3_duplication'] = function(block) {
    // TODO: Assemble JavaScript into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.JavaScript['dup4_duplication'] = function(block) {
    // TODO: Assemble JavaScript into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.JavaScript['dup5_duplication'] = function(block) {
    // TODO: Assemble JavaScript into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.JavaScript['dup6_duplication'] = function(block) {
    // TODO: Assemble JavaScript into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.JavaScript['dup7_duplication'] = function(block) {
    // TODO: Assemble JavaScript into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.JavaScript['dup8_duplication'] = function(block) {
    // TODO: Assemble JavaScript into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.JavaScript['dup9_duplication'] = function(block) {
    // TODO: Assemble JavaScript into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.JavaScript['dup10_duplication'] = function(block) {
    // TODO: Assemble JavaScript into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.JavaScript['dup11_duplication'] = function(block) {
    // TODO: Assemble JavaScript into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.JavaScript['dup12_duplication'] = function(block) {
    // TODO: Assemble JavaScript into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.JavaScript['dup13_duplication'] = function(block) {
    // TODO: Assemble JavaScript into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.JavaScript['dup14_duplication'] = function(block) {
    // TODO: Assemble JavaScript into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.JavaScript['dup15_duplication'] = function(block) {
    // TODO: Assemble JavaScript into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.JavaScript['dup16_duplication'] = function(block) {
    // TODO: Assemble JavaScript into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.JavaScript['swapx_swap'] = function(block) {
    var dropdown_number = block.getFieldValue('number');
    // TODO: Assemble JavaScript into code variable.
    var code = 'swap'+dropdown_number+'\n';
    return code;
  };
  
  Blockly.JavaScript['dupx_swap'] = function(block) {
    var dropdown_number = block.getFieldValue('number');
    // TODO: Assemble JavaScript into code variable.
    var code = 'dup'+dropdown_number+'\n';
    return code;
  };
  
  Blockly.JavaScript['dupx_duplicate'] = function(block) {
    var dropdown_number = block.getFieldValue('number');
    // TODO: Assemble JavaScript into code variable.
    var code = 'dup'+dropdown_number+'\n';
    return code;
  };
  
  Blockly.JavaScript['pushx_stack'] = function(block) {
    var dropdown_number = block.getFieldValue('number');
    // TODO: Assemble JavaScript into code variable.
    var code = 'push'+dropdown_number+'\n';
    return code;
  };
  
  Blockly.JavaScript['logx_log'] = function(block) {
    var dropdown_number = block.getFieldValue('number');
    // TODO: Assemble JavaScript into code variable.
    var code = 'log'+dropdown_number+'\n';
    return code;
  };
  
  Blockly.JavaScript['add_math'] = function(block) {
    // TODO: Assemble JavaScript into code variable.
    var code = 'add\n';
    return code;
  };
  
  Blockly.JavaScript['mul_math'] = function(block) {
    // TODO: Assemble JavaScript into code variable.
    var code = 'mul\n';
    return code;
  };
  
  Blockly.JavaScript['sub_math'] = function(block) {
    // TODO: Assemble JavaScript into code variable.
    var code = 'sub\n';
    return code;
  };
  
  Blockly.JavaScript['div_math'] = function(block) {
    // TODO: Assemble JavaScript into code variable.
    var code = 'div\n';
    return code;
  };
  
  Blockly.JavaScript['sdiv_math'] = function(block) {
    // TODO: Assemble JavaScript into code variable.
    var code = 'sdiv\n';
    return code;
  };
  
  Blockly.JavaScript['mod_math'] = function(block) {
    // TODO: Assemble JavaScript into code variable.
    var code = 'mod\n';
    return code;
  };
  
  Blockly.JavaScript['smod_math'] = function(block) {
    // TODO: Assemble JavaScript into code variable.
    var code = 'smod\n';
    return code;
  };
  
  Blockly.JavaScript['addmod_math'] = function(block) {
    // TODO: Assemble JavaScript into code variable.
    var code = 'addmod\n';
    return code;
  };
  
  Blockly.JavaScript['mulmod_math'] = function(block) {
    // TODO: Assemble JavaScript into code variable.
    var code = 'mulmod\n';
    return code;
  };
  
  Blockly.JavaScript['exp_math'] = function(block) {
    // TODO: Assemble JavaScript into code variable.
    var code = 'exp\n';
    return code;
  };
  
  Blockly.JavaScript['signextend_math'] = function(block) {
    // TODO: Assemble JavaScript into code variable.
    var code = 'signextend\n';
    return code;
  };
  
  Blockly.JavaScript['lt_logic'] = function(block) {
    // TODO: Assemble JavaScript into code variable.
    var code = 'lt\n';
    return code;
  };
  
  Blockly.JavaScript['gt_logic'] = function(block) {
    // TODO: Assemble JavaScript into code variable.
    var code = 'gt\n';
    return code;
  };
  
  Blockly.JavaScript['slt_logic'] = function(block) {
    // TODO: Assemble JavaScript into code variable.
    var code = 'slt\n';
    return code;
  };
  
  Blockly.JavaScript['sgt_logic'] = function(block) {
    // TODO: Assemble JavaScript into code variable.
    var code = 'sgt\n';
    return code;
  };
  
  Blockly.JavaScript['eq_logic'] = function(block) {
    // TODO: Assemble JavaScript into code variable.
    var code = 'eq\n';
    return code;
  };
  
  Blockly.JavaScript['iszero_logic'] = function(block) {
    // TODO: Assemble JavaScript into code variable.
    var code = 'iszero\n';
    return code;
  };
  
  Blockly.JavaScript['and_logic'] = function(block) {
    // TODO: Assemble JavaScript into code variable.
    var code = 'and\n';
    return code;
  };
  
  Blockly.JavaScript['or_logic'] = function(block) {
    // TODO: Assemble JavaScript into code variable.
    var code = 'or\n';
    return code;
  };
  
  Blockly.JavaScript['xor_logic'] = function(block) {
    // TODO: Assemble JavaScript into code variable.
    var code = 'xor\n';
    return code;
  };
  
  Blockly.JavaScript['not_logic'] = function(block) {
    // TODO: Assemble JavaScript into code variable.
    var code = 'not\n';
    return code;
  };
  
  Blockly.JavaScript['byte_logic'] = function(block) {
    // TODO: Assemble JavaScript into code variable.
    var code = 'byte\n';
    return code;
  };
  
  Blockly.JavaScript['sha3_logic'] = function(block) {
    // TODO: Assemble JavaScript into code variable.
    var code = 'sha3\n';
    return code;
  };
  
  Blockly.JavaScript['address_environment'] = function(block) {
    // TODO: Assemble JavaScript into code variable.
    var code = 'address\n';
    return code;
  };
  
  Blockly.JavaScript['balance_environment'] = function(block) {
    // TODO: Assemble JavaScript into code variable.
    var code = 'balance\n';
    return code;
  };
  
  Blockly.JavaScript['origin_environment'] = function(block) {
    // TODO: Assemble JavaScript into code variable.
    var code = 'origin\n';
    return code;
  };
  
  Blockly.JavaScript['caller_environment'] = function(block) {
    // TODO: Assemble JavaScript into code variable.
    var code = 'caller\n';
    return code;
  };
  
  Blockly.JavaScript['callvalue_environment'] = function(block) {
    // TODO: Assemble JavaScript into code variable.
    var code = 'callvalue\n';
    return code;
  };
  
  Blockly.JavaScript['calldataload_environment'] = function(block) {
    // TODO: Assemble JavaScript into code variable.
    var code = 'calldataload\n';
    return code;
  };
  
  Blockly.JavaScript['calldatasize_environment'] = function(block) {
    // TODO: Assemble JavaScript into code variable.
    var code = 'calldatasize\n';
    return code;
  };
  
  Blockly.JavaScript['calldatacopy_environment'] = function(block) {
    // TODO: Assemble JavaScript into code variable.
    var code = 'calldatacopy\n';
    return code;
  };
  
  Blockly.JavaScript['codesize_environment'] = function(block) {
    // TODO: Assemble JavaScript into code variable.
    var code = 'codesize\n';
    return code;
  };
  
  Blockly.JavaScript['codecopy_environment'] = function(block) {
    // TODO: Assemble JavaScript into code variable.
    var code = 'codecopy\n';
    return code;
  };
  
  Blockly.JavaScript['gasprice_environment'] = function(block) {
    // TODO: Assemble JavaScript into code variable.
    var code = 'gasprice\n';
    return code;
  };
  
  Blockly.JavaScript['extcodesize_environment'] = function(block) {
    // TODO: Assemble JavaScript into code variable.
    var code = 'extcodesize\n';
    return code;
  };
  
  Blockly.JavaScript['extcodecopy_environment'] = function(block) {
    // TODO: Assemble JavaScript into code variable.
    var code = 'extcodecopy\n';
    return code;
  };
  
  Blockly.JavaScript['blockhash_block'] = function(block) {
    // TODO: Assemble JavaScript into code variable.
    var code = 'blockhash\n';
    return code;
  };
  
  Blockly.JavaScript['coinbase_block'] = function(block) {
    // TODO: Assemble JavaScript into code variable.
    var code = 'coinbase\n';
    return code;
  };
  
  Blockly.JavaScript['timestamp_block'] = function(block) {
    // TODO: Assemble JavaScript into code variable.
    var code = 'timestamp\n';
    return code;
  };
  
  Blockly.JavaScript['number_block'] = function(block) {
    // TODO: Assemble JavaScript into code variable.
    var code = 'number\n';
    return code;
  };
  
  Blockly.JavaScript['difficulty_block'] = function(block) {
    // TODO: Assemble JavaScript into code variable.
    var code = 'difficulty\n';
    return code;
  };
  
  Blockly.JavaScript['gaslimit_block'] = function(block) {
    // TODO: Assemble JavaScript into code variable.
    var code = 'gaslimit\n';
    return code;
  };
  
  Blockly.JavaScript['pop_stack'] = function(block) {
    // TODO: Assemble JavaScript into code variable.
    var code = 'pop\n';
    return code;
  };
  
  Blockly.JavaScript['mload_stack'] = function(block) {
    // TODO: Assemble JavaScript into code variable.
    var code = 'mload\n';
    return code;
  };

  Blockly.JavaScript['mloadx_stack'] = function(block) {
    var text_name = block.getFieldValue('NAME');
    // TODO: Assemble JavaScript into code variable.
    var code = 'mload(0x'+text_name+')\n';
    return code;
  };
  
  Blockly.JavaScript['mstore_stack'] = function(block) {
    // TODO: Assemble JavaScript into code variable.
    var code = 'mstore\n';
    return code;
  };
  
  Blockly.JavaScript['mstorex_stack'] = function(block) {
    var text_addr = block.getFieldValue('addr');
    var text_val = block.getFieldValue('val');
    // TODO: Assemble JavaScript into code variable.
    var code = 'mstore(0x'+text_addr+', 0x'+text_val+')\n';
    return code;
  };
  
  Blockly.JavaScript['mstore8_stack'] = function(block) {
    // TODO: Assemble JavaScript into code variable.
    var code = 'mstore8\n';
    return code;
  };
  
  Blockly.JavaScript['sload_stack'] = function(block) {
    // TODO: Assemble JavaScript into code variable.
    var code = 'sload\n';
    return code;
  };
  
  Blockly.JavaScript['sstore_stack'] = function(block) {
    // TODO: Assemble JavaScript into code variable.
    var code = 'sstore\n';
    return code;
  };
  
  Blockly.JavaScript['jump_flow'] = function(block) {
    // TODO: Assemble JavaScript into code variable.
    var code = 'jump\n';
    return code;
  };
  
  Blockly.JavaScript['jumpi_flow'] = function(block) {
    // TODO: Assemble JavaScript into code variable.
    var code = 'jumpi\n';
    return code;
  };
  
  Blockly.JavaScript['pc_flow'] = function(block) {
    // TODO: Assemble JavaScript into code variable.
    var code = 'pc\n';
    return code;
  };
  
  Blockly.JavaScript['msize_flow'] = function(block) {
    // TODO: Assemble JavaScript into code variable.
    var code = 'msize\n';
    return code;
  };
  
  Blockly.JavaScript['gas_flow'] = function(block) {
    // TODO: Assemble JavaScript into code variable.
    var code = 'gas\n';
    return code;
  };
  
  Blockly.JavaScript['jumpdest_flow'] = function(block) {
    // TODO: Assemble JavaScript into code variable.
    var code = 'jumpdest\n';
    return code;
  };

  Blockly.JavaScript['create_system'] = function(block) {
    // TODO: Assemble JavaScript into code variable.
    var code = 'create\n';
    return code;
  };

  Blockly.JavaScript['call_system'] = function(block) {
    // TODO: Assemble JavaScript into code variable.
    var code = 'call\n';
    return code;
  };

  Blockly.JavaScript['callcode_system'] = function(block) {
    // TODO: Assemble JavaScript into code variable.
    var code = 'callcode\n';
    return code;
  };

  Blockly.JavaScript['return_system'] = function(block) {
    // TODO: Assemble JavaScript into code variable.
    var code = 'return\n';
    return code;
  };

  Blockly.JavaScript['revert_system'] = function(block) {
    // TODO: Assemble JavaScript into code variable.
    var code = 'revert\n';
    return code;
  };

  Blockly.JavaScript['delegatecall_system'] = function(block) {
    // TODO: Assemble JavaScript into code variable.
    var code = 'delegatecall\n';
    return code;
  };

  Blockly.JavaScript['selfdestruct_system'] = function(block) {
    // TODO: Assemble JavaScript into code variable.
    var code = 'selfdestruct\n';
    return code;
  };

  Blockly.JavaScript['hexa_types'] = function(block) {
    var text_name = block.getFieldValue('NAME');
    // TODO: Assemble JavaScript into code variable.
    var code = '0x'+text_name+'\n';
    return code;
  };

  Blockly.JavaScript['sloadx_stack'] = function(block) {
    var text_name = block.getFieldValue('NAME');
    // TODO: Assemble JavaScript into code variable.
    var code = 'sload(0x'+text_name+')\n';
    return code;
  };

  Blockly.JavaScript['invalid_flow'] = function(block) {
    // TODO: Assemble JavaScript into code variable.
    var code = 'invalid\n';
    return code;
  };

  Blockly.JavaScript['calldataloadx_environment'] = function(block) {
    var text_name = block.getFieldValue('NAME');
    // TODO: Assemble JavaScript into code variable.
    var code = 'calldataload(0x'+text_name+')\n';
    return code;
  };

  Blockly.JavaScript['tag_flow'] = function(block) {
    var text_name = block.getFieldValue('NAME');
    // TODO: Assemble JavaScript into code variable.
    var code = 'tag_'+text_name+':\n';
    return code;
  };

  Blockly.JavaScript['tag_types'] = function(block) {
    var text_name = block.getFieldValue('NAME');
    // TODO: Assemble JavaScript into code variable.
    var code = 'tag_'+text_name+' ';
    // TODO: Change ORDER_NONE to the correct strength.
    return [code, Blockly.JavaScript.ORDER_ATOMIC];
  };

  Blockly.JavaScript['hex_types'] = function(block) {
    var text_name = block.getFieldValue('NAME');
    // TODO: Assemble JavaScript into code variable.
    var code = '0x'+text_name+' ';
    // TODO: Change ORDER_NONE to the correct strength.
    return [code, Blockly.JavaScript.ORDER_ATOMIC];
  };

  Blockly.JavaScript['keccak256xx_math'] = function(block) {
    var text_name = block.getFieldValue('NAME');
    var text_address = block.getFieldValue('ADDRESS');
    // TODO: Assemble JavaScript into code variable.
    var code = 'keccak256(0x'+text_name+', 0x'+text_address+')\n';
    return code;
  };

  Blockly.JavaScript['keccak256_math'] = function(block) {
    // TODO: Assemble JavaScript into code variable.
    var code = 'keccak256\n';
    return code;
  };

  Blockly.Blocks['part_flow'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("tag_")
          .appendField(new Blockly.FieldTextInput("0"), "TAG");
      this.appendStatementInput("NAME")
          .setCheck(null);
      this.setColour(230);
   this.setTooltip("Code part.");
   this.setHelpUrl("Code part.");
    }
  };

  Blockly.JavaScript['part_flow'] = function(block) {
    var text_tag = block.getFieldValue('TAG');
    var statements_name = Blockly.JavaScript.statementToCode(block, 'NAME');
    // TODO: Assemble JavaScript into code variable.
    var code = '...;\n';
    return code;
  };

  Blockly.Blocks['function_flow'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("function")
          .appendField(new Blockly.FieldTextInput("fname"), "NAME")
          .appendField("(")
          .appendField(new Blockly.FieldTextInput(""), "ATTR1")
          .appendField(")")
      this.appendStatementInput("FUNCTION")
          .setCheck(null)
          .appendField("assembly");
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(230);
   this.setTooltip("Code part.");
   this.setHelpUrl("Code part.");
    }
  };

  Blockly.JavaScript['function_flow'] = function(block) {
    var text_name = block.getFieldValue('NAME');
    var text_attr1 = block.getFieldValue('ATTR1');
    var text_ret1 = block.getFieldValue('RET1');
    var statements_function = Blockly.JavaScript.statementToCode(block, 'FUNCTION');
    // TODO: Assemble JavaScript into code variable.
    var code = 'function '+text_name+'('+text_attr1+') returns ('+text_ret1+') {\nassembly {\n'+statements_function+'}\n}\n';
    return code;
  };

  Blockly.Blocks['contract_flow'] = {
    init: function() {
      this.appendDummyInput()
          .appendField("contract")
          .appendField(new Blockly.FieldTextInput("cname"), "NAME");
      this.appendStatementInput("CONTRACT")
          .setCheck(null);
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(230);
   this.setTooltip("Contract.");
   this.setHelpUrl("Contract.");
    }
  };

  Blockly.JavaScript['contract_flow'] = function(block) {
    var text_name = block.getFieldValue('NAME');
    var statements_contract = Blockly.JavaScript.statementToCode(block, 'CONTRACT');
    // TODO: Assemble JavaScript into code variable.
    var code = 'contract '+text_name+' {\n'+statements_contract+'}\n';
    return code;
  };

  Blockly.Blocks['inline_math'] = {
    init: function() {
      this.appendValueInput("INLINE")
          .setCheck(null);
      this.setPreviousStatement(true, null);
      this.setNextStatement(true, null);
      this.setColour(230);
   this.setTooltip("Inline code.");
   this.setHelpUrl("Inline code.");
    }
  };

  Blockly.JavaScript['inline_math'] = function(block) {
    var value_inline = Blockly.JavaScript.valueToCode(block, 'INLINE', Blockly.JavaScript.ORDER_ATOMIC);
    // TODO: Assemble JavaScript into code variable.
    var code = value_inline+'\n';
    return code;
  };

  Blockly.Blocks['iadd_math'] = {
    init: function() {
      this.appendValueInput("VAR1")
          .setCheck(null)
          .appendField("(add");
      this.appendValueInput("VAR2")
          .setCheck(null);
      this.appendDummyInput()
          .appendField(")");
      this.setInputsInline(true);
      this.setOutput(true, null);
      this.setColour(230);
   this.setTooltip("Inline add(x, y).");
   this.setHelpUrl("Inline add(x, y).");
    }
  };

  Blockly.JavaScript['iadd_math'] = function(block) {
    var value_var1 = Blockly.JavaScript.valueToCode(block, 'VAR1', Blockly.JavaScript.ORDER_ATOMIC);
    var value_var2 = Blockly.JavaScript.valueToCode(block, 'VAR2', Blockly.JavaScript.ORDER_ATOMIC);
    // TODO: Assemble JavaScript into code variable.
    var code = '(add '+value_var1 +' '+value_var2+')';
    // TODO: Change ORDER_NONE to the correct strength.
    return [code, Blockly.JavaScript.ORDER_NONE];
  };

  Blockly.Blocks['l_math_add'] = {
    init: function() {
      this.appendValueInput("VAR1")
          .setCheck(null);
      this.appendValueInput("VAR2")
          .setCheck(null)
          .appendField("+");
      this.setInputsInline(true);
      this.setOutput(true, null);
      this.setColour(230);
   this.setTooltip("Inline add(x, y).");
   this.setHelpUrl("Inline add(x, y).");
    }
  };

  Blockly.JavaScript['l_math_add'] = function(block) {
    var value_var1 = Blockly.JavaScript.valueToCode(block, 'VAR1', Blockly.JavaScript.ORDER_ATOMIC);
    var value_var2 = Blockly.JavaScript.valueToCode(block, 'VAR2', Blockly.JavaScript.ORDER_ATOMIC);
    // TODO: Assemble JavaScript into code variable.
    console.log(value_var1, value_var2)
    var code = '(add '+value_var1 +' '+value_var2+')';
    // TODO: Change ORDER_NONE to the correct strength.
    return [code, Blockly.JavaScript.ORDER_ATOMIC];
  };

  Blockly.Blocks['l_math_sub'] = {
    init: function() {
      this.appendValueInput("VAR1")
          .setCheck(null);
      this.appendValueInput("VAR2")
          .setCheck(null)
          .appendField("-");
      this.setInputsInline(true);
      this.setOutput(true, null);
      this.setColour(230);
   this.setTooltip("");
   this.setHelpUrl("");
    }
  };

  Blockly.JavaScript['l_math_sub'] = function(block) {
    var value_var1 = Blockly.JavaScript.valueToCode(block, 'VAR1', Blockly.JavaScript.ORDER_ATOMIC);
    var value_var2 = Blockly.JavaScript.valueToCode(block, 'VAR2', Blockly.JavaScript.ORDER_ATOMIC);
    // TODO: Assemble JavaScript into code variable.
    var code = '(sub '+value_var1 +' '+value_var2+')';
    // TODO: Change ORDER_NONE to the correct strength.
    return [code, Blockly.JavaScript.ORDER_ATOMIC];
  };

  Blockly.Blocks['l_math_mul'] = {
    init: function() {
      this.appendValueInput("VAR1")
          .setCheck(null);
      this.appendValueInput("VAR2")
          .setCheck(null)
          .appendField("*");
      this.setInputsInline(true);
      this.setOutput(true, null);
      this.setColour(230);
   this.setTooltip("");
   this.setHelpUrl("");
    }
  };

  Blockly.JavaScript['l_math_mul'] = function(block) {
    var value_var1 = Blockly.JavaScript.valueToCode(block, 'VAR1', Blockly.JavaScript.ORDER_ATOMIC);
    var value_var2 = Blockly.JavaScript.valueToCode(block, 'VAR2', Blockly.JavaScript.ORDER_ATOMIC);
    // TODO: Assemble JavaScript into code variable.
    var code = '(mul '+value_var1 +' '+value_var2+')';
    // TODO: Change ORDER_NONE to the correct strength.
    return [code, Blockly.JavaScript.ORDER_ATOMIC];
  };

  Blockly.Blocks['l_math_div'] = {
    init: function() {
      this.appendValueInput("VAR1")
          .setCheck(null);
      this.appendValueInput("VAR2")
          .setCheck(null)
          .appendField("/");
      this.setInputsInline(true);
      this.setOutput(true, null);
      this.setColour(230);
   this.setTooltip("");
   this.setHelpUrl("");
    }
  };

  Blockly.JavaScript['l_math_div'] = function(block) {
    var value_var1 = Blockly.JavaScript.valueToCode(block, 'VAR1', Blockly.JavaScript.ORDER_ATOMIC);
    var value_var2 = Blockly.JavaScript.valueToCode(block, 'VAR2', Blockly.JavaScript.ORDER_ATOMIC);
    // TODO: Assemble JavaScript into code variable.
    var code = '(div '+value_var1 +' '+value_var2+')';
    // TODO: Change ORDER_NONE to the correct strength.
    return [code, Blockly.JavaScript.ORDER_ATOMIC];
  };

  Blockly.Blocks['l_math_sdiv'] = {
    init: function() {
      this.appendValueInput("VAR1")
          .setCheck(null);
      this.appendValueInput("VAR2")
          .setCheck(null)
          .appendField("s/");
      this.setInputsInline(true);
      this.setOutput(true, null);
      this.setColour(230);
   this.setTooltip("");
   this.setHelpUrl("");
    }
  };

  Blockly.JavaScript['l_math_sdiv'] = function(block) {
    var value_var1 = Blockly.JavaScript.valueToCode(block, 'VAR1', Blockly.JavaScript.ORDER_ATOMIC);
    var value_var2 = Blockly.JavaScript.valueToCode(block, 'VAR2', Blockly.JavaScript.ORDER_ATOMIC);
    // TODO: Assemble JavaScript into code variable.
    var code = '(sdiv '+value_var1 +' '+value_var2+')';
    // TODO: Change ORDER_NONE to the correct strength.
    return [code, Blockly.JavaScript.ORDER_ATOMIC];
  };

  Blockly.Blocks['l_math_mod'] = {
    init: function() {
      this.appendValueInput("VAR1")
          .setCheck(null);
      this.appendValueInput("VAR2")
          .setCheck(null)
          .appendField("%");
      this.setInputsInline(true);
      this.setOutput(true, null);
      this.setColour(230);
   this.setTooltip("");
   this.setHelpUrl("");
    }
  };

  Blockly.JavaScript['l_math_mod'] = function(block) {
    var value_var1 = Blockly.JavaScript.valueToCode(block, 'VAR1', Blockly.JavaScript.ORDER_ATOMIC);
    var value_var2 = Blockly.JavaScript.valueToCode(block, 'VAR2', Blockly.JavaScript.ORDER_ATOMIC);
    // TODO: Assemble JavaScript into code variable.
    var code = '(mod '+value_var1 +' '+value_var2+')';
    // TODO: Change ORDER_NONE to the correct strength.
    return [code, Blockly.JavaScript.ORDER_ATOMIC];
  };

  Blockly.Blocks['l_math_smod'] = {
    init: function() {
      this.appendValueInput("VAR1")
          .setCheck(null);
      this.appendValueInput("VAR2")
          .setCheck(null)
          .appendField("s%");
      this.setInputsInline(true);
      this.setOutput(true, null);
      this.setColour(230);
   this.setTooltip("");
   this.setHelpUrl("");
    }
  };

  Blockly.JavaScript['l_math_smod'] = function(block) {
    var value_var1 = Blockly.JavaScript.valueToCode(block, 'VAR1', Blockly.JavaScript.ORDER_ATOMIC);
    var value_var2 = Blockly.JavaScript.valueToCode(block, 'VAR2', Blockly.JavaScript.ORDER_ATOMIC);
    // TODO: Assemble JavaScript into code variable.
    var code = '(smod '+value_var1 +' '+value_var2+')';
    // TODO: Change ORDER_NONE to the correct strength.
    return [code, Blockly.JavaScript.ORDER_ATOMIC];
  };

  Blockly.Blocks['l_math_addmod'] = {
    init: function() {
      this.appendValueInput("VAR1")
          .setCheck(null)
          .appendField("(");
      this.appendValueInput("VAR2")
          .setCheck(null)
          .appendField("+");
      this.appendValueInput("VAR3")
          .setCheck(null)
          .appendField(") %");
      this.setInputsInline(true);
      this.setOutput(true, null);
      this.setColour(230);
   this.setTooltip("");
   this.setHelpUrl("");
    }
  };

  Blockly.JavaScript['l_math_addmod'] = function(block) {
    var value_var1 = Blockly.JavaScript.valueToCode(block, 'VAR1', Blockly.JavaScript.ORDER_ATOMIC);
    var value_var2 = Blockly.JavaScript.valueToCode(block, 'VAR2', Blockly.JavaScript.ORDER_ATOMIC);
    var value_var3 = Blockly.JavaScript.valueToCode(block, 'VAR3', Blockly.JavaScript.ORDER_ATOMIC);
    // TODO: Assemble JavaScript into code variable.
    var code = '(addmod '+value_var1 +' '+value_var2+' '+value_var3+')';
    // TODO: Change ORDER_NONE to the correct strength.
    return [code, Blockly.JavaScript.ORDER_ATOMIC];
  };

  Blockly.Blocks['l_math_mulmod'] = {
    init: function() {
      this.appendValueInput("VAR1")
          .setCheck(null)
          .appendField("(");
      this.appendValueInput("VAR2")
          .setCheck(null)
          .appendField("*");
      this.appendValueInput("VAR3")
          .setCheck(null)
          .appendField(") %");
      this.setInputsInline(true);
      this.setOutput(true, null);
      this.setColour(230);
   this.setTooltip("");
   this.setHelpUrl("");
    }
  };

  Blockly.JavaScript['l_math_mulmod'] = function(block) {
    var value_var1 = Blockly.JavaScript.valueToCode(block, 'VAR1', Blockly.JavaScript.ORDER_ATOMIC);
    var value_var2 = Blockly.JavaScript.valueToCode(block, 'VAR2', Blockly.JavaScript.ORDER_ATOMIC);
    var value_var3 = Blockly.JavaScript.valueToCode(block, 'VAR3', Blockly.JavaScript.ORDER_ATOMIC);
    // TODO: Assemble JavaScript into code variable.
    var code = '(mulmod '+value_var1 +' '+value_var2+' '+value_var3+')';
    // TODO: Change ORDER_NONE to the correct strength.
    return [code, Blockly.JavaScript.ORDER_ATOMIC];
  };

  Blockly.Blocks['l_math_exp'] = {
    init: function() {
      this.appendValueInput("VAR1")
          .setCheck(null);
      this.appendValueInput("VAR2")
          .setCheck(null)
          .appendField("^");
      this.setInputsInline(true);
      this.setOutput(true, null);
      this.setColour(230);
   this.setTooltip("");
   this.setHelpUrl("");
    }
  };

  Blockly.JavaScript['l_math_exp'] = function(block) {
    var value_var1 = Blockly.JavaScript.valueToCode(block, 'VAR1', Blockly.JavaScript.ORDER_ATOMIC);
    var value_var2 = Blockly.JavaScript.valueToCode(block, 'VAR2', Blockly.JavaScript.ORDER_ATOMIC);
    // TODO: Assemble JavaScript into code variable.
    var code = '(exp '+value_var1 +' '+value_var2+')';
    // TODO: Change ORDER_NONE to the correct strength.
    return [code, Blockly.JavaScript.ORDER_ATOMIC];
  };


  Blockly.Blocks['l_logic_not'] = {
    init: function() {
      this.appendValueInput("VAR1")
          .setCheck(null)
          .appendField("~");
      this.setInputsInline(true);
      this.setOutput(true, null);
      this.setColour(230);
   this.setTooltip("");
   this.setHelpUrl("");
    }
  };

  Blockly.JavaScript['l_logic_not'] = function(block) {
    var value_var1 = Blockly.JavaScript.valueToCode(block, 'VAR1', Blockly.JavaScript.ORDER_ATOMIC);
    // TODO: Assemble JavaScript into code variable.
    var code = '(not '+value_var1 +')';
    // TODO: Change ORDER_NONE to the correct strength.
    return [code, Blockly.JavaScript.ORDER_ATOMIC];
  };

  Blockly.Blocks['l_logic_iszero'] = {
    init: function() {
      this.appendValueInput("VAR1")
          .setCheck(null)
          .appendField("0 ==");
      this.setInputsInline(true);
      this.setOutput(true, null);
      this.setColour(230);
   this.setTooltip("");
   this.setHelpUrl("");
    }
  };

  Blockly.JavaScript['l_logic_iszero'] = function(block) {
    var value_var1 = Blockly.JavaScript.valueToCode(block, 'VAR1', Blockly.JavaScript.ORDER_ATOMIC);
    // TODO: Assemble JavaScript into code variable.
    var code = '(iszero '+value_var1 +')';
    // TODO: Change ORDER_NONE to the correct strength.
    return [code, Blockly.JavaScript.ORDER_ATOMIC];
  };

  
      Blockly.Blocks['l_logic_lt'] = {
        init: function() {
          this.appendValueInput("VAR1")
              .setCheck(null);
          this.appendValueInput("VAR2")
              .setCheck(null)
              .appendField("<?");
          this.setInputsInline(true);
          this.setOutput(true, null);
          this.setColour(230);
       this.setTooltip("");
       this.setHelpUrl("");
        }
      };
    
      Blockly.JavaScript['l_logic_lt'] = function(block) {
        var value_var1 = Blockly.JavaScript.valueToCode(block, 'VAR1', Blockly.JavaScript.ORDER_ATOMIC);
        var value_var2 = Blockly.JavaScript.valueToCode(block, 'VAR2', Blockly.JavaScript.ORDER_ATOMIC);
        // TODO: Assemble JavaScript into code variable.
        var code = '(lt '+value_var1 +' '+value_var2+')';
        // TODO: Change ORDER_NONE to the correct strength.
        return [code, Blockly.JavaScript.ORDER_ATOMIC];
      };

      Blockly.Blocks['l_logic_gt'] = {
        init: function() {
          this.appendValueInput("VAR1")
              .setCheck(null);
          this.appendValueInput("VAR2")
              .setCheck(null)
              .appendField(">?");
          this.setInputsInline(true);
          this.setOutput(true, null);
          this.setColour(230);
       this.setTooltip("");
       this.setHelpUrl("");
        }
      };
    
      Blockly.JavaScript['l_logic_gt'] = function(block) {
        var value_var1 = Blockly.JavaScript.valueToCode(block, 'VAR1', Blockly.JavaScript.ORDER_ATOMIC);
        var value_var2 = Blockly.JavaScript.valueToCode(block, 'VAR2', Blockly.JavaScript.ORDER_ATOMIC);
        // TODO: Assemble JavaScript into code variable.
        var code = '(gt '+value_var1 +' '+value_var2+')';
        // TODO: Change ORDER_NONE to the correct strength.
        return [code, Blockly.JavaScript.ORDER_ATOMIC];
      };

      Blockly.Blocks['l_logic_slt'] = {
        init: function() {
          this.appendValueInput("VAR1")
              .setCheck(null);
          this.appendValueInput("VAR2")
              .setCheck(null)
              .appendField("s<?");
          this.setInputsInline(true);
          this.setOutput(true, null);
          this.setColour(230);
       this.setTooltip("");
       this.setHelpUrl("");
        }
      };
    
      Blockly.JavaScript['l_logic_slt'] = function(block) {
        var value_var1 = Blockly.JavaScript.valueToCode(block, 'VAR1', Blockly.JavaScript.ORDER_ATOMIC);
        var value_var2 = Blockly.JavaScript.valueToCode(block, 'VAR2', Blockly.JavaScript.ORDER_ATOMIC);
        // TODO: Assemble JavaScript into code variable.
        var code = '(slt '+value_var1 +' '+value_var2+')';
        // TODO: Change ORDER_NONE to the correct strength.
        return [code, Blockly.JavaScript.ORDER_ATOMIC];
      };

      Blockly.Blocks['l_logic_sgt'] = {
        init: function() {
          this.appendValueInput("VAR1")
              .setCheck(null);
          this.appendValueInput("VAR2")
              .setCheck(null)
              .appendField("s>?");
          this.setInputsInline(true);
          this.setOutput(true, null);
          this.setColour(230);
       this.setTooltip("");
       this.setHelpUrl("");
        }
      };
    
      Blockly.JavaScript['l_logic_sgt'] = function(block) {
        var value_var1 = Blockly.JavaScript.valueToCode(block, 'VAR1', Blockly.JavaScript.ORDER_ATOMIC);
        var value_var2 = Blockly.JavaScript.valueToCode(block, 'VAR2', Blockly.JavaScript.ORDER_ATOMIC);
        // TODO: Assemble JavaScript into code variable.
        var code = '(sgt '+value_var1 +' '+value_var2+')';
        // TODO: Change ORDER_NONE to the correct strength.
        return [code, Blockly.JavaScript.ORDER_ATOMIC];
      };

      Blockly.Blocks['l_logic_and'] = {
        init: function() {
          this.appendValueInput("VAR1")
              .setCheck(null);
          this.appendValueInput("VAR2")
              .setCheck(null)
              .appendField("&&");
          this.setInputsInline(true);
          this.setOutput(true, null);
          this.setColour(230);
       this.setTooltip("");
       this.setHelpUrl("");
        }
      };
    
      Blockly.JavaScript['l_logic_and'] = function(block) {
        var value_var1 = Blockly.JavaScript.valueToCode(block, 'VAR1', Blockly.JavaScript.ORDER_ATOMIC);
        var value_var2 = Blockly.JavaScript.valueToCode(block, 'VAR2', Blockly.JavaScript.ORDER_ATOMIC);
        // TODO: Assemble JavaScript into code variable.
        var code = '(and '+value_var1 +' '+value_var2+')';
        // TODO: Change ORDER_NONE to the correct strength.
        return [code, Blockly.JavaScript.ORDER_ATOMIC];
      };

      Blockly.Blocks['l_logic_or'] = {
        init: function() {
          this.appendValueInput("VAR1")
              .setCheck(null);
          this.appendValueInput("VAR2")
              .setCheck(null)
              .appendField("||");
          this.setInputsInline(true);
          this.setOutput(true, null);
          this.setColour(230);
       this.setTooltip("");
       this.setHelpUrl("");
        }
      };
    
      Blockly.JavaScript['l_logic_or'] = function(block) {
        var value_var1 = Blockly.JavaScript.valueToCode(block, 'VAR1', Blockly.JavaScript.ORDER_ATOMIC);
        var value_var2 = Blockly.JavaScript.valueToCode(block, 'VAR2', Blockly.JavaScript.ORDER_ATOMIC);
        // TODO: Assemble JavaScript into code variable.
        var code = '(or '+value_var1 +' '+value_var2+')';
        // TODO: Change ORDER_NONE to the correct strength.
        return [code, Blockly.JavaScript.ORDER_ATOMIC];
      };

      Blockly.Blocks['l_logic_xor'] = {
        init: function() {
          this.appendValueInput("VAR1")
              .setCheck(null);
          this.appendValueInput("VAR2")
              .setCheck(null)
              .appendField(" x||");
          this.setInputsInline(true);
          this.setOutput(true, null);
          this.setColour(230);
       this.setTooltip("");
       this.setHelpUrl("");
        }
      };
    
      Blockly.JavaScript['l_logic_xor'] = function(block) {
        var value_var1 = Blockly.JavaScript.valueToCode(block, 'VAR1', Blockly.JavaScript.ORDER_ATOMIC);
        var value_var2 = Blockly.JavaScript.valueToCode(block, 'VAR2', Blockly.JavaScript.ORDER_ATOMIC);
        // TODO: Assemble JavaScript into code variable.
        var code = '(xor '+value_var1 +' '+value_var2+')';
        // TODO: Change ORDER_NONE to the correct strength.
        return [code, Blockly.JavaScript.ORDER_ATOMIC];
      };

      Blockly.Blocks['l_logic_eq'] = {
        init: function() {
          this.appendValueInput("VAR1")
              .setCheck(null);
          this.appendValueInput("VAR2")
              .setCheck(null)
              .appendField("==");
          this.setInputsInline(true);
          this.setOutput(true, null);
          this.setColour(230);
       this.setTooltip("");
       this.setHelpUrl("");
        }
      };
    
      Blockly.JavaScript['l_logic_eq'] = function(block) {
        var value_var1 = Blockly.JavaScript.valueToCode(block, 'VAR1', Blockly.JavaScript.ORDER_ATOMIC);
        var value_var2 = Blockly.JavaScript.valueToCode(block, 'VAR2', Blockly.JavaScript.ORDER_ATOMIC);
        // TODO: Assemble JavaScript into code variable.
        var code = '(='+value_var1 +' '+value_var2+')';
        // TODO: Change ORDER_NONE to the correct strength.
        return [code, Blockly.JavaScript.ORDER_ATOMIC];
      };

      Blockly.Blocks['l_logic_byte'] = {
        init: function() {
          this.appendValueInput("VAR1")
              .setCheck(null);
          this.appendValueInput("VAR2")
              .setCheck(null)
              .appendField("-th byte of");
          this.setInputsInline(true);
          this.setOutput(true, null);
          this.setColour(230);
       this.setTooltip("");
       this.setHelpUrl("");
        }
      };
    
      Blockly.JavaScript['l_logic_byte'] = function(block) {
        var value_var1 = Blockly.JavaScript.valueToCode(block, 'VAR1', Blockly.JavaScript.ORDER_ATOMIC);
        var value_var2 = Blockly.JavaScript.valueToCode(block, 'VAR2', Blockly.JavaScript.ORDER_ATOMIC);
        // TODO: Assemble JavaScript into code variable.
        var code = '(byte'+value_var1 +' '+value_var2+')';
        // TODO: Change ORDER_NONE to the correct strength.
        return [code, Blockly.JavaScript.ORDER_ATOMIC];
      };

      Blockly.Blocks['l_seq_flow'] = {
        init: function() {
          this.appendDummyInput()
              .appendField("seq");
          this.appendStatementInput("seq")
              .setCheck(null);
          this.setOutput(true, null);
          this.setColour(210);
       this.setTooltip("Code sequence.");
       this.setHelpUrl("Code sequence.");
        }
      };

      Blockly.JavaScript['l_seq_flow'] = function(block) {
        var statements_seq = Blockly.JavaScript.statementToCode(block, 'seq');
        // TODO: Assemble JavaScript into code variable.
        var code = '(seq \n'+statements_seq +')';
        // TODO: Change ORDER_NONE to the correct strength.
        return [code, Blockly.JavaScript.ORDER_ATOMIC];
      };

      Blockly.Blocks['l_def_flow'] = {
        init: function() {
          this.appendDummyInput()
              .appendField("def")
              .appendField(new Blockly.FieldTextInput("dname"), "NAME")
              .appendField(new Blockly.FieldTextInput(""), "ARGS");
          this.appendValueInput("NAME")
              .setCheck(null);
          this.setOutput(true, null);
          this.setColour(210);
       this.setTooltip("Definition");
       this.setHelpUrl("Definition");
        }
      };

      Blockly.JavaScript['l_def_flow'] = function(block) {
        var text_name = block.getFieldValue('NAME');
        var text_args = block.getFieldValue('ARGS');
        var value_name = Blockly.JavaScript.valueToCode(block, 'NAME', Blockly.JavaScript.ORDER_ATOMIC);
        // TODO: Assemble JavaScript into code variable.
        var out = '';
        if (text_args) out='('+text_args+')';
        var code = '(def \''+text_name+' '+out+'\n\t'+value_name+')\n';
        return [code, Blockly.JavaScript.ORDER_ATOMIC];
      };

      Blockly.Blocks['l_math_keccak256'] = {
        init: function() {
          this.appendValueInput("ADDRESS")
              .setCheck(null)
              .appendField("keccak256");
          this.appendValueInput("OFFSET")
              .setCheck(null)
              .appendField(",");
          this.setInputsInline(true);
          this.setOutput(true, null);
          this.setColour(210);
       this.setTooltip("sha3");
       this.setHelpUrl("");
        }
      };

      Blockly.JavaScript['l_math_keccak256'] = function(block) {
        var value_address = Blockly.JavaScript.valueToCode(block, 'ADDRESS', Blockly.JavaScript.ORDER_ATOMIC);
        var value_offset = Blockly.JavaScript.valueToCode(block, 'OFFSET', Blockly.JavaScript.ORDER_ATOMIC);
        // TODO: Assemble JavaScript into code variable.
        var code = '(keccak256 '+value_address +' '+value_offset+')';
        // TODO: Change ORDER_NONE to the correct strength.
        return [code, Blockly.JavaScript.ORDER_ATOMIC];
      };

      Blockly.Blocks['l_ret_flow'] = {
        init: function() {
          this.appendDummyInput()
              .appendField("returnlll");
          this.appendValueInput("CODE")
              .setCheck(null);
          this.setInputsInline(false);
          this.setOutput(true, null);
          this.setColour(210);
       this.setTooltip("");
       this.setHelpUrl("");
        }
      };

      Blockly.JavaScript['l_ret_flow'] = function(block) {
        var value_code = Blockly.JavaScript.valueToCode(block, 'CODE', Blockly.JavaScript.ORDER_ATOMIC);
        // TODO: Assemble JavaScript into code variable.
        var code = '(returnlll \n'+value_code +')';
        return [code, Blockly.JavaScript.ORDER_ATOMIC];
      };

      Blockly.Blocks['l_logic_compare'] = {
        init: function() {
          this.appendValueInput("VAR1")
              .setCheck(null);
          this.appendValueInput("VAR2")
              .setCheck(null)
              .appendField(new Blockly.FieldDropdown([["=","EQ"], ["!=","NEQ"], ["<","LT"], ["<=","ELT"], [">","GT"], [">=","EGT"], ["S<","SLT"], ["S<=","SELT"], ["S>","SGT"], ["S>=","SEGT"]]), "COMPARATOR");
          this.setInputsInline(true);
          this.setOutput(true, null);
          this.setColour(230);
       this.setTooltip("Inline add(x, y).");
       this.setHelpUrl("Inline add(x, y).");
        }
      };

      Blockly.JavaScript['l_logic_compare'] = function(block) {
        var value_var1 = Blockly.JavaScript.valueToCode(block, 'VAR1', Blockly.JavaScript.ORDER_ATOMIC);
        var dropdown_comparator = block.getFieldValue('COMPARATOR');
        var value_var2 = Blockly.JavaScript.valueToCode(block, 'VAR2', Blockly.JavaScript.ORDER_ATOMIC);
        // TODO: Assemble JavaScript into code variable.
        var out = "";
        switch(dropdown_comparator){
          case "EQ":
            out = "=";
            break;
          case "NEQ":
            out = "!=";
            break;
          case "LT":
            out = "<";
            break;
          case "ELT":
            out = "<=";
            break;
          case "GT":
            out = ">";
            break;
          case "EGT":
            out = ">=";
            break;
          case "SLT":
            out = "S<";
            break;
          case "SELT":
            out = "S<=";
            break;
          case "SGT":
            out = "S>";
            break;
          case "SEGT":
            out = "S>=";
            break;
          
        }
        var code = '('+out+' '+value_var1 +' '+value_var2+')';
        // TODO: Change ORDER_NONE to the correct strength.
        return [code, Blockly.JavaScript.ORDER_ATOMIC];
      };

      Blockly.Blocks['l_math_oper'] = {
        init: function() {
          this.appendValueInput("VAR1")
              .setCheck(null);
          this.appendValueInput("VAR2")
              .setCheck(null)
              .appendField(new Blockly.FieldDropdown([["+","ADD"], ["-","SUB"], ["*","MUL"], ["/","DIV"], ["%","MOD"], ["^","EXP"], ["S/","SDIV"], ["S%","SMOD"]]), "OPER");
          this.setInputsInline(true);
          this.setOutput(true, null);
          this.setColour(230);
       this.setTooltip("Math operation.");
       this.setHelpUrl("Math operation.");
        }
      };

      Blockly.JavaScript['l_math_oper'] = function(block) {
        var value_var1 = Blockly.JavaScript.valueToCode(block, 'VAR1', Blockly.JavaScript.ORDER_ATOMIC);
        var dropdown_oper = block.getFieldValue('OPER');
        var value_var2 = Blockly.JavaScript.valueToCode(block, 'VAR2', Blockly.JavaScript.ORDER_ATOMIC);
        // TODO: Assemble JavaScript into code variable.
        var out = "";
        switch(dropdown_oper){
          case "ADD":
            out = "+";
            break;
          case "SUB":
            out = "-";
            break;
          case "MUL":
            out = "*";
            break;
          case "DIV":
            out = "/";
            break;
          case "MOD":
            out = "%";
            break;
          case "EXP":
            out = "exp";
            break;
          case "SDIV":
            out = "S%";
            break;
          case "SMOD":
            out = "S%";
            break;
          
        }
        var code = '('+out+' '+value_var1 +' '+value_var2+')';
        // TODO: Change ORDER_NONE to the correct strength.
        return [code, Blockly.JavaScript.ORDER_ATOMIC];
      };

      Blockly.Blocks['l_log_comment'] = {
        init: function() {
          this.appendDummyInput()
              .appendField("note")
              .appendField(new Blockly.FieldTextInput("comment"), "COMMENT");
          this.setPreviousStatement(true, null);
          this.setNextStatement(true, null);
          this.setColour(60);
       this.setTooltip("A comment.");
       this.setHelpUrl("");
        }
      };

      Blockly.JavaScript['l_log_comment'] = function(block) {
        var text_comment = block.getFieldValue('COMMENT');
        // TODO: Assemble JavaScript into code variable.
        var code = ';; '+text_comment+'\n';
        return code;
      };

      Blockly.Blocks['l_math_signextend'] = {
        init: function() {
          this.appendValueInput("ADDRESS")
              .setCheck(null)
              .appendField("signextend");
          this.appendValueInput("OFFSET")
              .setCheck(null)
              .appendField(",");
          this.setInputsInline(true);
          this.setOutput(true, null);
          this.setColour(210);
       this.setTooltip("sha3");
       this.setHelpUrl("");
        }
      };

      Blockly.JavaScript['l_math_signextend'] = function(block) {
        var value_address = Blockly.JavaScript.valueToCode(block, 'ADDRESS', Blockly.JavaScript.ORDER_ATOMIC);
        var value_offset = Blockly.JavaScript.valueToCode(block, 'OFFSET', Blockly.JavaScript.ORDER_ATOMIC);
        // TODO: Assemble JavaScript into code variable.
        var code = '(signextend '+value_address +' '+value_offset+')';
        // TODO: Change ORDER_NONE to the correct strength.
        return [code, Blockly.JavaScript.ORDER_ATOMIC];
      };

      Blockly.Blocks['l_env_address'] = {
        init: function() {
          this.appendDummyInput()
              .appendField("address");
          this.setOutput(true, "String");
          this.setColour(195);
       this.setTooltip("Address.");
       this.setHelpUrl("");
        }
      };

      Blockly.JavaScript['l_env_address'] = function(block) {
        // TODO: Assemble JavaScript into code variable.
        var code = '(address)';
        // TODO: Change ORDER_NONE to the correct strength.
        return [code, Blockly.JavaScript.ORDER_ATOMIC];
      };

      Blockly.Blocks['l_env_caller'] = {
        init: function() {
          this.appendDummyInput()
              .appendField("caller");
          this.setOutput(true, "String");
          this.setColour(195);
       this.setTooltip("Caller.");
       this.setHelpUrl("");
        }
      };

      Blockly.JavaScript['l_env_caller'] = function(block) {
        // TODO: Assemble JavaScript into code variable.
        var code = '(caller)';
        // TODO: Change ORDER_NONE to the correct strength.
        return [code, Blockly.JavaScript.ORDER_ATOMIC];
      };

      Blockly.Blocks['l_env_origin'] = {
        init: function() {
          this.appendDummyInput()
              .appendField("origin");
          this.setOutput(true, "String");
          this.setColour(195);
       this.setTooltip("Origin.");
       this.setHelpUrl("");
        }
      };

      Blockly.JavaScript['l_env_origin'] = function(block) {
        // TODO: Assemble JavaScript into code variable.
        var code = '(origin)';
        // TODO: Change ORDER_NONE to the correct strength.
        return [code, Blockly.JavaScript.ORDER_ATOMIC];
      };

      Blockly.Blocks['l_env_balance'] = {
        init: function() {
          this.appendDummyInput()
              .appendField("balance");
          this.appendValueInput("ADDRESS")
              .setCheck(null);
          this.setInputsInline(true);
          this.setOutput(true, "String");
          this.setColour(195);
       this.setTooltip("Balance.");
       this.setHelpUrl("");
        }
      };

      Blockly.JavaScript['l_env_balance'] = function(block) {
        var value_address = Blockly.JavaScript.valueToCode(block, 'ADDRESS', Blockly.JavaScript.ORDER_ATOMIC);
        // TODO: Assemble JavaScript into code variable.
        var code = '(balance '+value_address+')';
        // TODO: Change ORDER_NONE to the correct strength.
        return [code, Blockly.JavaScript.ORDER_ATOMIC];
      };

      Blockly.Blocks['l_env_callvalue'] = {
        init: function() {
          this.appendDummyInput()
              .appendField("callvalue");
          this.setOutput(true, "String");
          this.setColour(195);
       this.setTooltip("callvalue");
       this.setHelpUrl("");
        }
      };

      Blockly.JavaScript['l_env_callvalue'] = function(block) {
        // TODO: Assemble JavaScript into code variable.
        var code = '(callvalue)';
        // TODO: Change ORDER_NONE to the correct strength.
        return [code, Blockly.JavaScript.ORDER_ATOMIC];
      };

      Blockly.Blocks['l_env_calldatasize'] = {
        init: function() {
          this.appendDummyInput()
              .appendField("calldatasize");
          this.setOutput(true, "String");
          this.setColour(195);
       this.setTooltip("calldatasize");
       this.setHelpUrl("");
        }
      };

      Blockly.JavaScript['l_env_calldatasize'] = function(block) {
        // TODO: Assemble JavaScript into code variable.
        var code = '(calldatasize)';
        // TODO: Change ORDER_NONE to the correct strength.
        return [code, Blockly.JavaScript.ORDER_ATOMIC];
      };

      Blockly.Blocks['l_env_gasprice'] = {
        init: function() {
          this.appendDummyInput()
              .appendField("gasprice");
          this.setOutput(true, "String");
          this.setColour(195);
       this.setTooltip("gasprice");
       this.setHelpUrl("");
        }
      };

      Blockly.JavaScript['l_env_gasprice'] = function(block) {
        // TODO: Assemble JavaScript into code variable.
        var code = '(gasprice)';
        // TODO: Change ORDER_NONE to the correct strength.
        return [code, Blockly.JavaScript.ORDER_ATOMIC];
      };

      Blockly.Blocks['l_env_calldataload'] = {
        init: function() {
          this.appendDummyInput()
              .appendField("calldataload");
          this.appendValueInput("ADDRESS")
              .setCheck(null);
          this.setInputsInline(true);
          this.setOutput(true, "String");
          this.setColour(195);
       this.setTooltip("calldataload.");
       this.setHelpUrl("");
        }
      };

      Blockly.JavaScript['l_env_calldataload'] = function(block) {
        var value_address = Blockly.JavaScript.valueToCode(block, 'ADDRESS', Blockly.JavaScript.ORDER_ATOMIC);
        // TODO: Assemble JavaScript into code variable.
        var code = '(calldataload '+value_address+')';
        // TODO: Change ORDER_NONE to the correct strength.
        return [code, Blockly.JavaScript.ORDER_ATOMIC];
      };

      Blockly.Blocks['l_env_extcodesize'] = {
        init: function() {
          this.appendDummyInput()
              .appendField("extcodesize");
          this.appendValueInput("ADDRESS")
              .setCheck(null);
          this.setInputsInline(true);
          this.setOutput(true, "String");
          this.setColour(195);
       this.setTooltip("extcodesize.");
       this.setHelpUrl("");
        }
      };

      Blockly.JavaScript['l_env_extcodesize'] = function(block) {
        var value_address = Blockly.JavaScript.valueToCode(block, 'ADDRESS', Blockly.JavaScript.ORDER_ATOMIC);
        // TODO: Assemble JavaScript into code variable.
        var code = '(extcodesize '+value_address+')';
        // TODO: Change ORDER_NONE to the correct strength.
        return [code, Blockly.JavaScript.ORDER_ATOMIC];
      };

      Blockly.Blocks['l_env_calldatacopy'] = {
        init: function() {
          this.appendDummyInput()
              .appendField("calldatacopy");
          this.appendValueInput("TARGET")
              .setCheck(null);
          this.appendValueInput("SOURCE")
              .setCheck(null);
          this.appendValueInput("BYTES")
              .setCheck(null);
          this.setInputsInline(true);
          this.setOutput(true, "String");
          this.setColour(195);
       this.setTooltip("calldatacopy");
       this.setHelpUrl("");
        }
      };

      Blockly.JavaScript['l_env_calldatacopy'] = function(block) {
        var value_target = Blockly.JavaScript.valueToCode(block, 'TARGET', Blockly.JavaScript.ORDER_ATOMIC);
        var value_source = Blockly.JavaScript.valueToCode(block, 'SOURCE', Blockly.JavaScript.ORDER_ATOMIC);
        var value_bytes = Blockly.JavaScript.valueToCode(block, 'BYTES', Blockly.JavaScript.ORDER_ATOMIC);
        // TODO: Assemble JavaScript into code variable.
        var code = '(calldatacopy '+value_target+' '+value_source+' '+value_bytes+' )';
        // TODO: Change ORDER_NONE to the correct strength.
        return [code, Blockly.JavaScript.ORDER_ATOMIC];
      };

      Blockly.Blocks['l_env_codecopy'] = {
        init: function() {
          this.appendDummyInput()
              .appendField("codecopy");
          this.appendValueInput("TARGET")
              .setCheck(null);
          this.appendValueInput("SOURCE")
              .setCheck(null);
          this.appendValueInput("BYTES")
              .setCheck(null);
          this.setInputsInline(true);
          this.setOutput(true, "String");
          this.setColour(195);
       this.setTooltip("codecopy");
       this.setHelpUrl("");
        }
      };

      Blockly.JavaScript['l_env_codecopy'] = function(block) {
        var value_target = Blockly.JavaScript.valueToCode(block, 'TARGET', Blockly.JavaScript.ORDER_ATOMIC);
        var value_source = Blockly.JavaScript.valueToCode(block, 'SOURCE', Blockly.JavaScript.ORDER_ATOMIC);
        var value_bytes = Blockly.JavaScript.valueToCode(block, 'BYTES', Blockly.JavaScript.ORDER_ATOMIC);
        // TODO: Assemble JavaScript into code variable.
        var code = '(codecopy '+value_target+' '+value_source+' '+value_bytes+' )';
        // TODO: Change ORDER_NONE to the correct strength.
        return [code, Blockly.JavaScript.ORDER_ATOMIC];
      };

      Blockly.Blocks['l_env_extcodecopy'] = {
        init: function() {
          this.appendDummyInput()
              .appendField("extcodecopy");
          this.appendValueInput("ADDRESS")
              .setCheck(null);
          this.appendValueInput("TARGET")
              .setCheck(null);
          this.appendValueInput("SOURCE")
              .setCheck(null);
          this.appendValueInput("BYTES")
              .setCheck(null);
          this.setInputsInline(true);
          this.setOutput(true, "String");
          this.setColour(195);
       this.setTooltip("extcodecopy");
       this.setHelpUrl("");
        }
      };

      Blockly.JavaScript['l_env_extcodecopy'] = function(block) {
        var value_address = Blockly.JavaScript.valueToCode(block, 'ADDRESS', Blockly.JavaScript.ORDER_ATOMIC);
        var value_target = Blockly.JavaScript.valueToCode(block, 'TARGET', Blockly.JavaScript.ORDER_ATOMIC);
        var value_source = Blockly.JavaScript.valueToCode(block, 'SOURCE', Blockly.JavaScript.ORDER_ATOMIC);
        var value_bytes = Blockly.JavaScript.valueToCode(block, 'BYTES', Blockly.JavaScript.ORDER_ATOMIC);
        // TODO: Assemble JavaScript into code variable.
        var code = '(extcodecopy '+value_address+' '+value_target+' '+value_source+' '+value_bytes+' )';
        // TODO: Change ORDER_NONE to the correct strength.
        return [code, Blockly.JavaScript.ORDER_ATOMIC];
      };

      Blockly.Blocks['l_env_codesize'] = {
        init: function() {
          this.appendDummyInput()
              .appendField("codesize");
          this.setOutput(true, "String");
          this.setColour(195);
       this.setTooltip("codesize");
       this.setHelpUrl("");
        }
      };

      Blockly.JavaScript['l_env_codesize'] = function(block) {
        // TODO: Assemble JavaScript into code variable.
        var code = '(codesize)';
        // TODO: Change ORDER_NONE to the correct strength.
        return [code, Blockly.JavaScript.ORDER_ATOMIC];
      };

      Blockly.Blocks['l_block_blockhash'] = {
        init: function() {
          this.appendDummyInput()
              .appendField("blockhash");
          this.appendValueInput("BLOCK")
              .setCheck(null);
          this.setInputsInline(true);
          this.setOutput(true, "String");
          this.setColour(195);
       this.setTooltip("Blockhash.");
       this.setHelpUrl("");
        }
      };

      Blockly.JavaScript['l_block_blockhash'] = function(block) {
        var value_block = Blockly.JavaScript.valueToCode(block, 'BLOCK', Blockly.JavaScript.ORDER_ATOMIC);
        // TODO: Assemble JavaScript into code variable.
        var code = '(blockhash '+value_block+')';
        // TODO: Change ORDER_NONE to the correct strength.
        return [code, Blockly.JavaScript.ORDER_ATOMIC];
      };

      Blockly.Blocks['l_block_coinbase'] = {
        init: function() {
          this.appendDummyInput()
              .appendField("coinbase");
          this.setOutput(true, "String");
          this.setColour(195);
       this.setTooltip("coinbase");
       this.setHelpUrl("");
        }
      };

      Blockly.JavaScript['l_block_coinbase'] = function(block) {
        // TODO: Assemble JavaScript into code variable.
        var code = '(coinbase)';
        // TODO: Change ORDER_NONE to the correct strength.
        return [code, Blockly.JavaScript.ORDER_ATOMIC];
      };

      Blockly.Blocks['l_block_timestamp'] = {
        init: function() {
          this.appendDummyInput()
              .appendField("timestamp");
          this.setOutput(true, "String");
          this.setColour(195);
       this.setTooltip("timestamp");
       this.setHelpUrl("");
        }
      };

      Blockly.JavaScript['l_block_timestamp'] = function(block) {
        // TODO: Assemble JavaScript into code variable.
        var code = '(timestamp)';
        // TODO: Change ORDER_NONE to the correct strength.
        return [code, Blockly.JavaScript.ORDER_ATOMIC];
      };

      Blockly.Blocks['l_block_number'] = {
        init: function() {
          this.appendDummyInput()
              .appendField("number");
          this.setOutput(true, "String");
          this.setColour(195);
       this.setTooltip("number");
       this.setHelpUrl("");
        }
      };

      Blockly.JavaScript['l_block_number'] = function(block) {
        // TODO: Assemble JavaScript into code variable.
        var code = '(number)';
        // TODO: Change ORDER_NONE to the correct strength.
        return [code, Blockly.JavaScript.ORDER_ATOMIC];
      };

      Blockly.Blocks['l_block_difficulty'] = {
        init: function() {
          this.appendDummyInput()
              .appendField("difficulty");
          this.setOutput(true, "String");
          this.setColour(195);
       this.setTooltip("difficulty");
       this.setHelpUrl("");
        }
      };

      Blockly.JavaScript['l_block_difficulty'] = function(block) {
        // TODO: Assemble JavaScript into code variable.
        var code = '(difficulty)';
        // TODO: Change ORDER_NONE to the correct strength.
        return [code, Blockly.JavaScript.ORDER_ATOMIC];
      };

      Blockly.Blocks['l_block_gaslimit'] = {
        init: function() {
          this.appendDummyInput()
              .appendField("gaslimit");
          this.setOutput(true, "String");
          this.setColour(195);
       this.setTooltip("gaslimit");
       this.setHelpUrl("");
        }
      };

      Blockly.JavaScript['l_block_gaslimit'] = function(block) {
        // TODO: Assemble JavaScript into code variable.
        var code = '(gaslimit)';
        // TODO: Change ORDER_NONE to the correct strength.
        return [code, Blockly.JavaScript.ORDER_ATOMIC];
      };

      Blockly.Blocks['l_type_flow'] = {
        init: function() {
          this.appendDummyInput()
              .appendField(new Blockly.FieldDropdown([["when","WHEN"], ["unless","UNLESS"], ["while","WHILE"], ["until","UNTIL"]]), "FLOWTYPE");
          this.appendValueInput("PRED")
              .setCheck(null);
          this.appendStatementInput("NAME")
              .setCheck(null)
              .appendField("do");
          this.setInputsInline(true);
          this.setOutput(true, null);
          this.setColour(105);
       this.setTooltip("");
       this.setHelpUrl("");
        }
      };

      Blockly.JavaScript['l_type_flow'] = function(block) {
        var dropdown_flowtype = block.getFieldValue('FLOWTYPE');
        var value_pred = Blockly.JavaScript.valueToCode(block, 'PRED', Blockly.JavaScript.ORDER_ATOMIC);
        var statements_name = Blockly.JavaScript.statementToCode(block, 'NAME');
        // TODO: Assemble JavaScript into code variable.
        var out = "";
        //console.log(value_pred)
        switch(dropdown_flowtype){
          case "WHEN":
            out = "when";
            break;
          case "UNLESS":
            out = "unless";
            break;
          case "WHILE":
            out = "while";
            break;
          case "UNTIL":
            out = "until";
            break;
          
          
        }
        var code = '('+out+' '+value_pred +' '+statements_name+')';
        return [code, Blockly.JavaScript.ORDER_ATOMIC];
      };

      Blockly.Blocks['l_flow_if'] = {
        init: function() {
          this.appendDummyInput()
              .appendField("if");
          this.appendValueInput("PRED")
              .setCheck(null);
          this.appendStatementInput("THEN")
              .setCheck(null)
              .appendField("then");
          this.appendStatementInput("ELSE")
              .setCheck(null)
              .appendField("else");
          this.setInputsInline(true);
          this.setOutput(true, null);
          this.setColour(105);
       this.setTooltip("");
       this.setHelpUrl("");
        }
      };

      Blockly.JavaScript['l_flow_if'] = function(block) {
        var value_pred = Blockly.JavaScript.valueToCode(block, 'PRED', Blockly.JavaScript.ORDER_ATOMIC);
        var statements_then = Blockly.JavaScript.statementToCode(block, 'THEN');
        var statements_else = Blockly.JavaScript.statementToCode(block, 'ELSE');
        // TODO: Assemble JavaScript into code variable.
        var code = '(if '+value_pred+' '+statements_then+' '+statements_else+')\n';
        return [code, Blockly.JavaScript.ORDER_ATOMIC];
      };

      Blockly.Blocks['l_info_block'] = {
        init: function() {
          this.appendDummyInput()
              .appendField("block")
              .appendField(new Blockly.FieldDropdown([["timestamp","TIMESTAMP"], ["number","NUMBER"], ["prev hash","PREVHASH"], ["coinbase","COINBASE"], ["difficulty","DIFFICULTY"], ["total gas","TOTALGAS"]]), "BLOCK");
          this.setInputsInline(true);
          this.setOutput(true, "String");
          this.setColour(195);
       this.setTooltip("Block Info: ");
       this.setHelpUrl("");
        }
      };

      Blockly.JavaScript['l_info_block'] = function(block) {
        var dropdown_block = block.getFieldValue('BLOCK');
        // TODO: Assemble JavaScript into code variable.
        var out = "";
        switch(dropdown_block){
          case "TIMESTAMP":
            out = "timestamp";
            break;
          case "NUMBER":
            out = "number";
            break;
          case "PREVHASH":
            out = "blockhash (- number 1)";
            break;
          case "COINBASE":
            out = "coinbase";
            break;
          case "DIFFICULTY":
            out = "dificulty";
            break;
          case "TOTALGAS":
            out = "gaslimit";
            break;
          
          
        }
        var code = '('+out+')';
        // TODO: Change ORDER_NONE to the correct strength.
        return [code, Blockly.JavaScript.ORDER_ATOMIC];
      };

      Blockly.Blocks['l_bitwise_oper'] = {
        init: function() {
          this.appendValueInput("VAR1")
              .setCheck(null);
          this.appendValueInput("VAR2")
              .setCheck(null)
              .appendField(new Blockly.FieldDropdown([["bitwise and","AND"], ["bitwise or","OR"], ["bitwise xor","XOR"]]), "OPER");
          this.setInputsInline(true);
          this.setOutput(true, null);
          this.setColour(230);
       this.setTooltip("Bitwise operation.");
       this.setHelpUrl("Bitwise operation.");
        }
      };

      Blockly.JavaScript['l_bitwise_oper'] = function(block) {
        var value_var1 = Blockly.JavaScript.valueToCode(block, 'VAR1', Blockly.JavaScript.ORDER_ATOMIC);
        var dropdown_oper = block.getFieldValue('OPER');
        var value_var2 = Blockly.JavaScript.valueToCode(block, 'VAR2', Blockly.JavaScript.ORDER_ATOMIC);
        // TODO: Assemble JavaScript into code variable.
        var out = "";
        switch(dropdown_oper){
          case "AND":
            out = "&";
            break;
          case "OR":
            out = "|";
            break;
          case "XOR":
            out = "^";
            break;
          
          
        }
        var code = '('+out+' '+value_var1+' '+value_var2+')';
        
        // TODO: Change ORDER_NONE to the correct strength.
        return [code, Blockly.JavaScript.ORDER_ATOMIC];
      };

      Blockly.Blocks['l_info_present'] = {
        init: function() {
          this.appendDummyInput()
              .appendField("present")
              .appendField(new Blockly.FieldDropdown([["call value","CALLVALUE"], ["caller","CALLER"], ["address","ADDRESS"], ["input size","CALLDATASIZE"]]), "PRESENT");
          this.setInputsInline(true);
          this.setOutput(true, "String");
          this.setColour(195);
       this.setTooltip("Present Env Info: ");
       this.setHelpUrl("");
        }
      };

      Blockly.JavaScript['l_info_present'] = function(block) {
        var dropdown_present = block.getFieldValue('PRESENT');
        // TODO: Assemble JavaScript into code variable.
        var out = "";
        switch(dropdown_present){
          case "CALLVALUE":
            out = "callvalue";
            break;
          case "CALLER":
            out = "caller";
            break;
          case "ADDRESS":
            out = "address";
            break;
          case "CALLDATASIZE":
            out = "calldatasize";
            break;
          
          
        }
        var code = '('+out+')';
        // TODO: Change ORDER_NONE to the correct strength.
        return [code, Blockly.JavaScript.ORDER_ATOMIC];
      };

      Blockly.Blocks['l_stack_pop'] = {
        init: function() {
          this.appendDummyInput()
              .appendField("POP")
              .appendField(new Blockly.FieldDropdown([["1","1"], ["2","2"], ["3","3"], ["4","4"], ["5","5"], ["6","6"], ["7","7"], ["8","8"], ["9","9"], ["10","10"], ["11","11"], ["12","12"], ["13","13"], ["14","14"], ["15","15"], ["16","16"]]), "number");
          this.setOutput(true, null);
          this.setColour(230);
       this.setTooltip("");
       this.setHelpUrl("");
        }
      };

      Blockly.JavaScript['l_stack_pop'] = function(block) {
        var dropdown_number = block.getFieldValue('number');
        // TODO: Assemble JavaScript into code variable.
        var code = '(pop '+dropdown_number+')';
        // TODO: Change ORDER_NONE to the correct strength.
        return [code, Blockly.JavaScript.ORDER_ATOMIC];
      };

      Blockly.Blocks['l_logic_isnot'] = {
        init: function() {
          this.appendValueInput("VAR1")
              .setCheck(null)
              .appendField("!");
          this.setInputsInline(true);
          this.setOutput(true, null);
          this.setColour(230);
       this.setTooltip("");
       this.setHelpUrl("");
        }
      };

      Blockly.JavaScript['l_logic_isnot'] = function(block) {
        var value_var1 = Blockly.JavaScript.valueToCode(block, 'VAR1', Blockly.JavaScript.ORDER_ATOMIC);
        // TODO: Assemble JavaScript into code variable.
        var code = '(! \n'+value_var1+')';
        // TODO: Change ORDER_NONE to the correct strength.
        return [code, Blockly.JavaScript.ORDER_ATOMIC];
      };

      Blockly.Blocks['l_logic_andor'] = {
        init: function() {
          this.appendValueInput("VAR1")
              .setCheck(null);
          this.appendValueInput("VAR2")
              .setCheck(null)
              .appendField(new Blockly.FieldDropdown([["&&","AND"], ["||","OR"]]), "OPER");
          this.setInputsInline(true);
          this.setOutput(true, null);
          this.setColour(230);
       this.setTooltip("And/Or operation.");
       this.setHelpUrl("And/Or operation.");
        }
      };

      Blockly.JavaScript['l_logic_andor'] = function(block) {
        var value_var1 = Blockly.JavaScript.valueToCode(block, 'VAR1', Blockly.JavaScript.ORDER_ATOMIC);
        var dropdown_oper = block.getFieldValue('OPER');
        var value_var2 = Blockly.JavaScript.valueToCode(block, 'VAR2', Blockly.JavaScript.ORDER_ATOMIC);
        // TODO: Assemble JavaScript into code variable.
        var out = "";
        switch(dropdown_oper){
          case "AND":
            out = "&&";
            break;
          case "OR":
            out = "||";
            break;
          
          
        }
        var code = '('+out+' '+value_var1 +' '+value_var2+')';
        // TODO: Change ORDER_NONE to the correct strength.
        return [code, Blockly.JavaScript.ORDER_ATOMIC];
      };

      Blockly.Blocks['l_stack_lit'] = {
        init: function() {
          this.appendValueInput("ADDRESS")
              .setCheck(null)
              .appendField("store at");
          this.appendValueInput("VAR")
              .setCheck(null)
              .appendField("value");
          this.setInputsInline(true);
          this.setOutput(true, null);
          this.setColour(210);
       this.setTooltip("lit");
       this.setHelpUrl("");
        }
      };

      Blockly.JavaScript['l_stack_lit'] = function(block) {
        var value_address = Blockly.JavaScript.valueToCode(block, 'ADDRESS', Blockly.JavaScript.ORDER_ATOMIC);
        var value_var = Blockly.JavaScript.valueToCode(block, 'VAR', Blockly.JavaScript.ORDER_ATOMIC);
        // TODO: Assemble JavaScript into code variable.
        var code = '(lit '+value_address+' '+value_var+')';
        // TODO: Change ORDER_NONE to the correct strength.
        return [code, Blockly.JavaScript.ORDER_ATOMIC];
      };

      Blockly.Blocks['l_stack_set'] = {
        init: function() {
          this.appendValueInput("VAR")
              .setCheck(null)
              .appendField("set");
          this.appendValueInput("VALUE")
              .setCheck(null)
              .appendField("to be");
          this.setInputsInline(true);
          this.setOutput(true, null);
          this.setColour(210);
       this.setTooltip("let");
       this.setHelpUrl("");
        }
      };

      Blockly.JavaScript['l_stack_set'] = function(block) {
        var value_var = Blockly.JavaScript.valueToCode(block, 'VAR', Blockly.JavaScript.ORDER_ATOMIC);
        var value_value = Blockly.JavaScript.valueToCode(block, 'VALUE', Blockly.JavaScript.ORDER_ATOMIC);
        // TODO: Assemble JavaScript into code variable.
        var code = '(set '+value_var+' '+value_value+')';
        // TODO: Change ORDER_NONE to the correct strength.
        return [code, Blockly.JavaScript.ORDER_ATOMIC];
      };

      Blockly.Blocks['l_stack_with'] = {
        init: function() {
          this.appendDummyInput()
              .appendField("with");
          this.appendValueInput("NAME")
              .setCheck(null);
          this.appendValueInput("VAL")
              .setCheck(null)
              .appendField("as");
          this.appendStatementInput("CODE")
              .setCheck(null);
          this.setInputsInline(true);
          this.setOutput(true, null);
          this.setColour(210);
       this.setTooltip("With");
       this.setHelpUrl("With");
        }
      };

      Blockly.JavaScript['l_stack_with'] = function(block) {
        var value_name = Blockly.JavaScript.valueToCode(block, 'NAME', Blockly.JavaScript.ORDER_ATOMIC);
        var value_val = Blockly.JavaScript.valueToCode(block, 'VAL', Blockly.JavaScript.ORDER_ATOMIC);
        var statements_code = Blockly.JavaScript.statementToCode(block, 'CODE');
        // TODO: Assemble JavaScript into code variable.
        var code = '(with '+value_name+' '+value_val+' '+statements_code+')';
        return [code, Blockly.JavaScript.ORDER_ATOMIC];
      };

      Blockly.Blocks['l_flow_for'] = {
        init: function() {
          this.appendDummyInput()
              .appendField("for");
          this.appendStatementInput("INIT")
              .setCheck(null)
              .appendField("ini");
          this.appendValueInput("PRED")
              .setCheck(null)
              .appendField("while");
          this.appendStatementInput("DO")
              .setCheck(null)
              .appendField("do");
          this.appendStatementInput("THEN")
              .setCheck(null)
              .appendField("then");
          this.setInputsInline(false);
          this.setPreviousStatement(true, null);
          this.setNextStatement(true, null);
          this.setColour(105);
       this.setTooltip("");
       this.setHelpUrl("");
        }
      };

      Blockly.JavaScript['l_flow_for'] = function(block) {
        var statements_init = Blockly.JavaScript.statementToCode(block, 'INIT');
        var value_pred = Blockly.JavaScript.valueToCode(block, 'PRED', Blockly.JavaScript.ORDER_ATOMIC);
        var statements_do = Blockly.JavaScript.statementToCode(block, 'DO');
        var statements_then = Blockly.JavaScript.statementToCode(block, 'THEN');
        // TODO: Assemble JavaScript into code variable.
        var code = '(if '+statements_init+' '+value_pred+' '+statements_then+' '+statements_do+')\n';
        return code;
      };

      Blockly.Blocks['l_stack_get'] = {
        init: function() {
          this.appendValueInput("VAR")
              .setCheck(null)
              .appendField("get");
          this.setInputsInline(true);
          this.setOutput(true, null);
          this.setColour(210);
       this.setTooltip("get");
       this.setHelpUrl("");
        }
      };

      Blockly.JavaScript['l_stack_get'] = function(block) {
        var value_var = Blockly.JavaScript.valueToCode(block, 'VAR', Blockly.JavaScript.ORDER_ATOMIC);
        // TODO: Assemble JavaScript into code variable.
        var code = '(get '+value_var+')';
        // TODO: Change ORDER_NONE to the correct strength.
        return [code, Blockly.JavaScript.ORDER_ATOMIC];
      };

      Blockly.Blocks['l_log_log'] = {
        init: function() {
          this.appendDummyInput()
              .appendField("log");
          this.appendValueInput("ADDRESS")
              .setCheck(null);
          this.appendValueInput("OFFSET")
              .setCheck(null);
          this.appendDummyInput()
              .appendField(new Blockly.FieldTextInput("topics"), "TOPICS");
          this.setInputsInline(true);
          this.setOutput(true, null);
          this.setColour(195);
       this.setTooltip("log");
       this.setHelpUrl("");
        }
      };

      Blockly.JavaScript['l_log_log'] = function(block) {
        var value_address = Blockly.JavaScript.valueToCode(block, 'ADDRESS', Blockly.JavaScript.ORDER_ATOMIC);
        var value_offset = Blockly.JavaScript.valueToCode(block, 'OFFSET', Blockly.JavaScript.ORDER_ATOMIC);
        var text_topics = block.getFieldValue('TOPICS');
        var topics = text_topics.split(",")
        // TODO: Assemble JavaScript into code variable.
        var code = '(log'+topics.length+' '+value_address+' '+value_offset+')\n';
        // TODO: Change ORDER_NONE to the correct strength.
        return [code, Blockly.JavaScript.ORDER_ATOMIC];
      };

      Blockly.Blocks['l_system_create'] = {
        init: function() {
          this.appendDummyInput()
              .appendField("create");
          this.appendValueInput("VALUE")
              .setCheck(null);
          this.appendValueInput("CODE")
              .setCheck(null);
          this.setInputsInline(true);
          this.setOutput(true, null);
          this.setColour(285);
       this.setTooltip("create");
       this.setHelpUrl("");
        }
      };

      Blockly.JavaScript['l_system_create'] = function(block) {
        var value_value = Blockly.JavaScript.valueToCode(block, 'VALUE', Blockly.JavaScript.ORDER_ATOMIC);
        var value_code = Blockly.JavaScript.valueToCode(block, 'CODE', Blockly.JavaScript.ORDER_ATOMIC);
        // TODO: Assemble JavaScript into code variable.
        var code = '(create '+value_value+' '+value_code+')\n';
        // TODO: Change ORDER_NONE to the correct strength.
        return [code, Blockly.JavaScript.ORDER_ATOMIC];
      };

      Blockly.Blocks['l_system_return'] = {
        init: function() {
          this.appendDummyInput()
              .appendField("return");
          this.appendValueInput("ADDRESS")
              .setCheck(null);
          this.appendValueInput("OFFSET")
              .setCheck(null);
          this.setInputsInline(true);
          this.setOutput(true, null);
          this.setColour(300);
       this.setTooltip("Return (address, offset)");
       this.setHelpUrl("");
        }
      };

      Blockly.JavaScript['l_system_return'] = function(block) {
        var value_address = Blockly.JavaScript.valueToCode(block, 'ADDRESS', Blockly.JavaScript.ORDER_ATOMIC);
        var value_offset = Blockly.JavaScript.valueToCode(block, 'OFFSET', Blockly.JavaScript.ORDER_ATOMIC);
        // TODO: Assemble JavaScript into code variable.
        var code = '(return '+value_address+' '+value_offset+')\n';
        // TODO: Change ORDER_NONE to the correct strength.
        return [code, Blockly.JavaScript.ORDER_ATOMIC];
      };

      Blockly.Blocks['l_system_revert'] = {
        init: function() {
          this.appendDummyInput()
              .appendField("revert");
          this.appendValueInput("ADDRESS")
              .setCheck(null);
          this.appendValueInput("OFFSET")
              .setCheck(null);
          this.setInputsInline(true);
          this.setOutput(true, null);
          this.setColour(300);
       this.setTooltip("Revert (address, offset)");
       this.setHelpUrl("");
        }
      };

      Blockly.JavaScript['l_system_revert'] = function(block) {
        var value_address = Blockly.JavaScript.valueToCode(block, 'ADDRESS', Blockly.JavaScript.ORDER_ATOMIC);
        var value_offset = Blockly.JavaScript.valueToCode(block, 'OFFSET', Blockly.JavaScript.ORDER_ATOMIC);
        // TODO: Assemble JavaScript into code variable.
        var code = '(revert '+value_address+' '+value_offset+')\n';
        // TODO: Change ORDER_NONE to the correct strength.
        return [code, Blockly.JavaScript.ORDER_ATOMIC];
      };

      Blockly.Blocks['l_system_selfdestruct'] = {
        init: function() {
          this.appendDummyInput()
              .appendField("selfdestruct");
          this.appendValueInput("ADDRESS")
              .setCheck(null);
          this.setInputsInline(true);
          this.setOutput(true, null);
          this.setColour(300);
       this.setTooltip("end execution, destroy current contract and send funds to address.");
       this.setHelpUrl("");
        }
      };

      Blockly.JavaScript['l_system_selfdestruct'] = function(block) {
        var value_address = Blockly.JavaScript.valueToCode(block, 'ADDRESS', Blockly.JavaScript.ORDER_ATOMIC);
        // TODO: Assemble JavaScript into code variable.
        var code = '(selfdestruct '+value_address+')\n';
        // TODO: Change ORDER_NONE to the correct strength.
        return [code, Blockly.JavaScript.ORDER_ATOMIC];
      };

      Blockly.Blocks['l_stack_push'] = {
        init: function() {
          this.appendDummyInput()
              .appendField("push1");
          this.appendValueInput("NAME")
              .setCheck(null);
          this.setInputsInline(true);
          this.setOutput(true, null);
          this.setColour(210);
       this.setTooltip("Push a value in the stack");
       this.setHelpUrl("");
        }
      };

      Blockly.JavaScript['l_stack_push'] = function(block) {
        var value_value = Blockly.JavaScript.valueToCode(block, 'VALUE', Blockly.JavaScript.ORDER_ATOMIC);
        // TODO: Assemble JavaScript into code variable.
        var code = 'value_value\n';
        return [code, Blockly.JavaScript.ORDER_ATOMIC];
      };

      Blockly.Blocks['l_flow_adapt'] = {
        init: function() {
          this.appendValueInput("HEAD")
              .setCheck(null);
          this.appendValueInput("CODE")
              .setCheck(null);
          this.setInputsInline(false);
          this.setOutput(true, null);
          this.setColour(210);
       this.setTooltip("Flow adapt");
       this.setHelpUrl("");
        }
      };

      Blockly.JavaScript['l_flow_adapt'] = function(block) {
        var value_head = Blockly.JavaScript.valueToCode(block, 'HEAD', Blockly.JavaScript.ORDER_ATOMIC);
        var value_code = Blockly.JavaScript.valueToCode(block, 'CODE', Blockly.JavaScript.ORDER_ATOMIC);
        // TODO: Assemble JavaScript into code variable.
        var code = '('+value_head+' '+value_code+')\n';
        // TODO: Change ORDER_NONE to the correct strength.
        return [code, Blockly.JavaScript.ORDER_ATOMIC];
      };

      Blockly.Blocks['l_types_blank'] = {
        init: function() {
          this.appendDummyInput()
              .appendField(new Blockly.FieldTextInput(""), "TEXT");
          this.setOutput(true, "String");
          this.setColour(290);
       this.setTooltip("Blank");
       this.setHelpUrl("");
        }
      };

      Blockly.JavaScript['l_types_blank'] = function(block) {
        var text_text = block.getFieldValue('TEXT');
        // TODO: Assemble JavaScript into code variable.
        var code = text_text;
        // TODO: Change ORDER_NONE to the correct strength.
        return [code, Blockly.JavaScript.ORDER_ATOMIC];
      };

      Blockly.Blocks['l_stack_mstore'] = {
        init: function() {
          this.appendDummyInput()
              .appendField("mstore");
          this.appendValueInput("ADDRESS")
              .setCheck(null);
          this.appendValueInput("VAL")
              .setCheck(null);
          this.setInputsInline(true);
          this.setOutput(true, null);
          this.setColour(300);
       this.setTooltip("");
       this.setHelpUrl("");
        }
      };

      Blockly.JavaScript['l_stack_mstore'] = function(block) {
        var value_address = Blockly.JavaScript.valueToCode(block, 'ADDRESS', Blockly.JavaScript.ORDER_ATOMIC);
        var value_val = Blockly.JavaScript.valueToCode(block, 'VAL', Blockly.JavaScript.ORDER_ATOMIC);
        // TODO: Assemble JavaScript into code variable.
        var code = '(mstore '+value_address+' '+value_val+')\n';
        // TODO: Change ORDER_NONE to the correct strength.
        return [code, Blockly.JavaScript.ORDER_ATOMIC];
      };























      function onChange(event) {
        console.log(event)
        var id= event.blockId;
        var block = Code.workspace.getBlockById(id)
        console.log(block)
        if (event.type == Blockly.Events.BLOCK_MOVE &&
            event.element == 'comment' &&
            !event.oldValue && event.newValue) {
          alert('here')
          
        }
      }

      

      



   






























  goog.provide('Blockly.EVM');
  
  goog.require('Blockly.Generator');
  
  
  /**
   * EVM code generator.
   * @type {!Blockly.Generator}
   */
  Blockly.EVM = new Blockly.Generator('EVM');
  




  Blockly.EVM['stop_math'] = function(block) {
    // TODO: Assemble EVM into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.EVM['dup1_duplication'] = function(block) {
    // TODO: Assemble EVM into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.EVM['dup2_duplication'] = function(block) {
    // TODO: Assemble EVM into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.EVM['dup3_duplication'] = function(block) {
    // TODO: Assemble EVM into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.EVM['dup4_duplication'] = function(block) {
    // TODO: Assemble EVM into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.EVM['dup5_duplication'] = function(block) {
    // TODO: Assemble EVM into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.EVM['dup6_duplication'] = function(block) {
    // TODO: Assemble EVM into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.EVM['dup7_duplication'] = function(block) {
    // TODO: Assemble EVM into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.EVM['dup8_duplication'] = function(block) {
    // TODO: Assemble EVM into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.EVM['dup9_duplication'] = function(block) {
    // TODO: Assemble EVM into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.EVM['dup10_duplication'] = function(block) {
    // TODO: Assemble EVM into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.EVM['dup11_duplication'] = function(block) {
    // TODO: Assemble EVM into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.EVM['dup12_duplication'] = function(block) {
    // TODO: Assemble EVM into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.EVM['dup13_duplication'] = function(block) {
    // TODO: Assemble EVM into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.EVM['dup14_duplication'] = function(block) {
    // TODO: Assemble EVM into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.EVM['dup15_duplication'] = function(block) {
    // TODO: Assemble EVM into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.EVM['dup16_duplication'] = function(block) {
    // TODO: Assemble EVM into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.EVM['swapx_swap'] = function(block) {
    var dropdown_number = block.getFieldValue('number');
    // TODO: Assemble EVM into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.EVM['dupx_swap'] = function(block) {
    var dropdown_number = block.getFieldValue('number');
    // TODO: Assemble EVM into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.EVM['dupx_duplicate'] = function(block) {
    var dropdown_number = block.getFieldValue('number');
    // TODO: Assemble EVM into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.EVM['pushx_stack'] = function(block) {
    var dropdown_number = block.getFieldValue('number');
    // TODO: Assemble EVM into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.EVM['logx_log'] = function(block) {
    var dropdown_number = block.getFieldValue('number');
    // TODO: Assemble EVM into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.EVM['add_math'] = function(block) {
    // TODO: Assemble EVM into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.EVM['mul_math'] = function(block) {
    // TODO: Assemble EVM into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.EVM['sub_math'] = function(block) {
    // TODO: Assemble EVM into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.EVM['div_math'] = function(block) {
    // TODO: Assemble EVM into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.EVM['sdiv_math'] = function(block) {
    // TODO: Assemble EVM into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.EVM['mod_math'] = function(block) {
    // TODO: Assemble EVM into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.EVM['smod_math'] = function(block) {
    // TODO: Assemble EVM into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.EVM['addmod_math'] = function(block) {
    // TODO: Assemble EVM into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.EVM['mulmod_math'] = function(block) {
    // TODO: Assemble EVM into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.EVM['exp_math'] = function(block) {
    // TODO: Assemble EVM into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.EVM['signextend_math'] = function(block) {
    // TODO: Assemble EVM into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.EVM['lt_logic'] = function(block) {
    // TODO: Assemble EVM into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.EVM['gt_logic'] = function(block) {
    // TODO: Assemble EVM into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.EVM['slt_logic'] = function(block) {
    // TODO: Assemble EVM into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.EVM['sgt_logic'] = function(block) {
    // TODO: Assemble EVM into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.EVM['eq_logic'] = function(block) {
    // TODO: Assemble EVM into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.EVM['iszero_logic'] = function(block) {
    // TODO: Assemble EVM into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.EVM['and_logic'] = function(block) {
    // TODO: Assemble EVM into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.EVM['or_logic'] = function(block) {
    // TODO: Assemble EVM into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.EVM['xor_logic'] = function(block) {
    // TODO: Assemble EVM into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.EVM['not_logic'] = function(block) {
    // TODO: Assemble EVM into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.EVM['byte_logic'] = function(block) {
    // TODO: Assemble EVM into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.EVM['sha3_logic'] = function(block) {
    // TODO: Assemble EVM into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.EVM['address_environment'] = function(block) {
    // TODO: Assemble EVM into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.EVM['balance_environment'] = function(block) {
    // TODO: Assemble EVM into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.EVM['origin_environment'] = function(block) {
    // TODO: Assemble EVM into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.EVM['caller_environment'] = function(block) {
    // TODO: Assemble EVM into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.EVM['callvalue_environment'] = function(block) {
    // TODO: Assemble EVM into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.EVM['calldataload_environment'] = function(block) {
    // TODO: Assemble EVM into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.EVM['calldatasize_environment'] = function(block) {
    // TODO: Assemble EVM into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.EVM['calldatacopy_environment'] = function(block) {
    // TODO: Assemble EVM into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.EVM['codesize_environment'] = function(block) {
    // TODO: Assemble EVM into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.EVM['codecopy_environment'] = function(block) {
    // TODO: Assemble EVM into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.EVM['gasprice_environment'] = function(block) {
    // TODO: Assemble EVM into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.EVM['extcodesize_environment'] = function(block) {
    // TODO: Assemble EVM into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.EVM['extcodecopy_environment'] = function(block) {
    // TODO: Assemble EVM into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.EVM['blockhash_block'] = function(block) {
    // TODO: Assemble EVM into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.EVM['coinbase_block'] = function(block) {
    // TODO: Assemble EVM into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.EVM['timestamp_block'] = function(block) {
    // TODO: Assemble EVM into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.EVM['number_block'] = function(block) {
    // TODO: Assemble EVM into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.EVM['difficulty_block'] = function(block) {
    // TODO: Assemble EVM into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.EVM['gaslimit_block'] = function(block) {
    // TODO: Assemble EVM into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.EVM['pop_stack'] = function(block) {
    // TODO: Assemble EVM into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.EVM['mload_stack'] = function(block) {
    // TODO: Assemble EVM into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.EVM['mstore_stack'] = function(block) {
    // TODO: Assemble EVM into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.EVM['mstorex_stack'] = function(block) {
    var text_addr = block.getFieldValue('addr');
    var text_val = block.getFieldValue('val');
    // TODO: Assemble EVM into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.EVM['mstore8_stack'] = function(block) {
    // TODO: Assemble EVM into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.EVM['sload_stack'] = function(block) {
    // TODO: Assemble EVM into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.EVM['sstore_stack'] = function(block) {
    // TODO: Assemble EVM into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.EVM['jump_flow'] = function(block) {
    // TODO: Assemble EVM into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.EVM['jumpi_flow'] = function(block) {
    // TODO: Assemble EVM into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.EVM['pc_flow'] = function(block) {
    // TODO: Assemble EVM into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.EVM['msize_flow'] = function(block) {
    // TODO: Assemble EVM into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.EVM['gas_flow'] = function(block) {
    // TODO: Assemble EVM into code variable.
    var code = '...;\n';
    return code;
  };
  
  Blockly.EVM['jumpdest_flow'] = function(block) {
    // TODO: Assemble EVM into code variable.
    var code = '...;\n';
    return code;
  };